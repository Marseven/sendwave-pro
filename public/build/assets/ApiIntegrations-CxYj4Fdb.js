import{o,c as i,b as e,d as R,r as f,k as M,s as V,t as m,x as h,y as g,g as l,i as G,F as E,q as P,n as I,a as ie,m as ne,p as me,f as A,v as N,C as W,w as H,D as de}from"./main-DYuA4yRd.js";import{u as ee,f as S,_ as ue,o as pe,i as Z}from"./api-Hx4iUv-n.js";import{_ as le}from"./TabNav.vue_vue_type_script_setup_true_lang-C09z6mXh.js";import{b as $,s as Y,a as X}from"./notifications-CHQAjgV4.js";import{r as Q}from"./KeyIcon-COE6-Fuu.js";import{r as ce}from"./ArrowPathIcon-CnKMA_kP.js";import{r as K}from"./MagnifyingGlassIcon-CkUuxe5K.js";import{r as he}from"./CheckCircleIcon-CSCdnRgE.js";function ge(a,r){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})])}function j(a,r){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})])}function ye(a,r){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function ve(a,r){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}const U=[{id:"auth",name:"Authentification",description:"Inscription, connexion, gestion de profil et permissions",endpoints:[{method:"POST",path:"/api/auth/register",summary:"Inscription d'un nouvel utilisateur",auth:!1,body:{name:"John Doe",email:"john@example.com",password:"password123",password_confirmation:"password123",company:"Ma Société"},response:{access_token:"1|abc...",token_type:"Bearer",user:{id:1,name:"John Doe",email:"john@example.com"}}},{method:"POST",path:"/api/auth/login",summary:"Connexion utilisateur",auth:!1,body:{email:"admin@sendwave.com",password:"password123"},response:{access_token:"1|abcdefghijklmnopqrstuvwxyz",token_type:"Bearer",user:{id:1,name:"Admin",email:"admin@sendwave.com",role:"admin"}}},{method:"POST",path:"/api/auth/logout",summary:"Déconnexion (révocation du token)",auth:!0,response:{message:"Déconnexion réussie"}},{method:"GET",path:"/api/auth/me",summary:"Informations de l'utilisateur connecté",auth:!0,response:{id:1,name:"Admin",email:"admin@sendwave.com",role:"admin",permissions:["send_sms","view_history","manage_contacts"]}},{method:"GET",path:"/api/auth/permissions",summary:"Permissions de l'utilisateur courant",auth:!0,response:{permissions:["send_sms","view_history","manage_contacts","manage_groups"]}},{method:"GET",path:"/api/auth/available-permissions",summary:"Liste de toutes les permissions disponibles",auth:!0,response:{permissions:[{key:"send_sms",label:"Envoyer des SMS"},{key:"view_history",label:"Voir l'historique"}]}},{method:"GET",path:"/api/user/profile",summary:"Profil utilisateur détaillé",auth:!0,response:{id:1,name:"Admin",email:"admin@sendwave.com",company:"SendWave",phone:"+24177000000"}},{method:"PUT",path:"/api/user/profile",summary:"Mettre à jour le profil",auth:!0,body:{name:"Nouveau Nom",company:"Nouvelle Société",phone:"+24177000001"},response:{message:"Profil mis à jour",user:{id:1,name:"Nouveau Nom"}}}]},{id:"messages",name:"Messages",description:"Envoi de SMS, analyse de numéros et historique des messages",endpoints:[{method:"POST",path:"/api/messages/send",summary:"Envoyer un SMS",description:"Envoie un ou plusieurs SMS aux destinataires spécifiés. Les numéros sont normalisés automatiquement et les numéros en liste noire sont filtrés.",auth:!0,permissions:["send_sms"],body:{recipients:["+24177123456","+24162987654"],contact_ids:[1,2,3],group_ids:[1],message:"Votre message ici",_comment:"Au moins un des champs recipients, contact_ids ou group_ids est requis"},response:{message:"Messages envoyés avec succès",data:{total_sent:2,total_cost:40,results:[{phone:"24177123456",status:"sent",provider:"airtel",cost:20},{phone:"24162987654",status:"sent",provider:"moov",cost:20}]}},curl:`curl -X POST {baseUrl}/api/messages/send \\
  -H 'Authorization: Bearer YOUR_TOKEN' \\
  -H 'Content-Type: application/json' \\
  -d '{"recipients":["+24177123456"],"message":"Hello!"}'`},{method:"POST",path:"/api/messages/analyze",summary:"Analyser un message SMS",description:"Analyse le contenu d'un message : nombre de segments, encodage, caractères spéciaux.",auth:!0,permissions:["send_sms"],body:{message:"Votre message à analyser"},response:{segments:1,encoding:"GSM-7",characters:25,max_characters:160,has_unicode:!1}},{method:"POST",path:"/api/messages/number-info",summary:"Informations sur un numéro de téléphone",description:"Retourne l'opérateur détecté, le pays et le statut de normalisation.",auth:!0,permissions:["send_sms"],body:{phone:"77123456"},response:{original:"77123456",normalized:"+24177123456",country:"GA",operator:"airtel",valid:!0}},{method:"GET",path:"/api/messages/history",summary:"Historique des messages envoyés",description:"Liste paginée des messages avec filtres par date, statut, opérateur.",auth:!0,permissions:["view_history"],parameters:[{name:"page",type:"integer",description:"Numéro de page",example:"1"},{name:"per_page",type:"integer",description:"Résultats par page (max 100)",example:"15"},{name:"status",type:"string",description:"Filtrer par statut: sent, delivered, failed",example:"sent"},{name:"date_from",type:"string",description:"Date de début (Y-m-d)",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin (Y-m-d)",example:"2026-01-31"}],response:{data:[{id:1,phone:"24177123456",message:"Hello",status:"delivered",provider:"airtel",cost:20,created_at:"2026-01-15T10:30:00Z"}],meta:{current_page:1,last_page:5,total:73}}},{method:"GET",path:"/api/messages/stats",summary:"Statistiques des messages",auth:!0,permissions:["view_history"],response:{total_sent:1500,total_delivered:1420,total_failed:80,delivery_rate:94.67,total_cost:3e4}},{method:"GET",path:"/api/messages/export",summary:"Exporter l'historique des messages",description:"Exporte les messages au format CSV ou Excel.",auth:!0,permissions:["export_data"],parameters:[{name:"format",type:"string",description:"Format: csv ou xlsx",example:"csv"},{name:"date_from",type:"string",description:"Date de début",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin",example:"2026-01-31"}],response:{_comment:"Téléchargement du fichier"}}]},{id:"contacts",name:"Contacts",description:"Gestion des contacts : création, import, export, champs personnalisés",endpoints:[{method:"GET",path:"/api/contacts",summary:"Liste des contacts",auth:!0,permissions:["manage_contacts"],parameters:[{name:"page",type:"integer",description:"Numéro de page",example:"1"},{name:"per_page",type:"integer",description:"Résultats par page",example:"15"},{name:"search",type:"string",description:"Recherche par nom, email ou téléphone",example:"John"},{name:"group_id",type:"integer",description:"Filtrer par groupe",example:"3"}],response:{data:[{id:1,first_name:"John",last_name:"Doe",phone:"+24177123456",email:"john@example.com",custom_fields:{}}],meta:{current_page:1,last_page:3,total:42}}},{method:"POST",path:"/api/contacts",summary:"Créer un contact",auth:!0,permissions:["manage_contacts"],body:{first_name:"John",last_name:"Doe",phone:"+24177123456",email:"john@example.com",custom_fields:{ville:"Libreville"}},response:{message:"Contact créé",data:{id:1,first_name:"John",last_name:"Doe",phone:"+24177123456"}}},{method:"GET",path:"/api/contacts/{id}",summary:"Détails d'un contact",auth:!0,permissions:["manage_contacts"],response:{id:1,first_name:"John",last_name:"Doe",phone:"+24177123456",email:"john@example.com",custom_fields:{ville:"Libreville"},groups:[{id:1,name:"Clients VIP"}]}},{method:"PUT",path:"/api/contacts/{id}",summary:"Modifier un contact",auth:!0,permissions:["manage_contacts"],body:{first_name:"Jane",last_name:"Doe",phone:"+24177123456",email:"jane@example.com"},response:{message:"Contact mis à jour",data:{id:1,first_name:"Jane",last_name:"Doe"}}},{method:"DELETE",path:"/api/contacts/{id}",summary:"Supprimer un contact",auth:!0,permissions:["manage_contacts"],response:{message:"Contact supprimé"}},{method:"POST",path:"/api/contacts/import",summary:"Importer des contacts (CSV/Excel)",description:"Upload d'un fichier CSV ou Excel pour importer des contacts en masse.",auth:!0,permissions:["manage_contacts"],body:{_comment:"multipart/form-data",file:"(fichier CSV ou XLSX)",group_id:1,mapping:{0:"first_name",1:"last_name",2:"phone"}},response:{message:"Import terminé",imported:150,duplicates:5,errors:2}},{method:"POST",path:"/api/contacts/preview-import",summary:"Prévisualiser un import de contacts",auth:!0,permissions:["manage_contacts"],body:{_comment:"multipart/form-data",file:"(fichier CSV ou XLSX)"},response:{headers:["Nom","Prénom","Téléphone"],preview:[["Doe","John","77123456"]],total_rows:150}},{method:"GET",path:"/api/contacts/export",summary:"Exporter les contacts",auth:!0,permissions:["export_data"],parameters:[{name:"format",type:"string",description:"Format: csv ou xlsx",example:"csv"},{name:"group_id",type:"integer",description:"Exporter un groupe spécifique"}],response:{_comment:"Téléchargement du fichier"}}]},{id:"contact-groups",name:"Groupes de Contacts",description:"Création et gestion de groupes, ajout/retrait de membres",endpoints:[{method:"GET",path:"/api/contact-groups",summary:"Liste des groupes",auth:!0,permissions:["manage_groups"],response:{data:[{id:1,name:"Clients VIP",contacts_count:42,created_at:"2026-01-01T00:00:00Z"}]}},{method:"POST",path:"/api/contact-groups",summary:"Créer un groupe",auth:!0,permissions:["manage_groups"],body:{name:"Nouveau Groupe",description:"Description du groupe"},response:{message:"Groupe créé",data:{id:2,name:"Nouveau Groupe"}}},{method:"GET",path:"/api/contact-groups/{id}",summary:"Détails d'un groupe",auth:!0,permissions:["manage_groups"],response:{id:1,name:"Clients VIP",description:"Nos meilleurs clients",contacts_count:42}},{method:"PUT",path:"/api/contact-groups/{id}",summary:"Modifier un groupe",auth:!0,permissions:["manage_groups"],body:{name:"Nom modifié",description:"Nouvelle description"},response:{message:"Groupe mis à jour",data:{id:1,name:"Nom modifié"}}},{method:"DELETE",path:"/api/contact-groups/{id}",summary:"Supprimer un groupe",auth:!0,permissions:["manage_groups"],response:{message:"Groupe supprimé"}},{method:"GET",path:"/api/contact-groups/{id}/contacts",summary:"Contacts d'un groupe",auth:!0,permissions:["manage_groups"],response:{data:[{id:1,first_name:"John",last_name:"Doe",phone:"+24177123456"}],meta:{total:42}}},{method:"POST",path:"/api/contact-groups/{id}/contacts/add",summary:"Ajouter des contacts au groupe",auth:!0,permissions:["manage_groups"],body:{contact_ids:[1,2,3]},response:{message:"3 contacts ajoutés au groupe",added:3}},{method:"POST",path:"/api/contact-groups/{id}/contacts/remove",summary:"Retirer des contacts du groupe",auth:!0,permissions:["manage_groups"],body:{contact_ids:[1,2]},response:{message:"2 contacts retirés du groupe",removed:2}}]},{id:"campaigns",name:"Campagnes",description:"Création, envoi, planification et A/B testing de campagnes SMS",endpoints:[{method:"GET",path:"/api/campaigns",summary:"Liste des campagnes",auth:!0,permissions:["create_campaigns"],parameters:[{name:"status",type:"string",description:"Filtrer par statut: draft, scheduled, sending, completed, failed",example:"draft"}],response:{data:[{id:1,name:"Promo Janvier",status:"completed",recipients_count:500,sent_count:495,created_at:"2026-01-10T08:00:00Z"}]}},{method:"POST",path:"/api/campaigns",summary:"Créer une campagne",auth:!0,permissions:["create_campaigns"],body:{name:"Promo Février",message:"Profitez de nos offres ! {prenom}",group_ids:[1,2],sender_id:"SENDWAVE"},response:{message:"Campagne créée",data:{id:2,name:"Promo Février",status:"draft"}}},{method:"GET",path:"/api/campaigns/{id}",summary:"Détails d'une campagne",auth:!0,permissions:["create_campaigns"],response:{id:1,name:"Promo Janvier",message:"Profitez de nos offres !",status:"completed",recipients_count:500,sent_count:495,failed_count:5,cost:9900,groups:[{id:1,name:"Clients VIP"}]}},{method:"PUT",path:"/api/campaigns/{id}",summary:"Modifier une campagne (brouillon uniquement)",auth:!0,permissions:["create_campaigns"],body:{name:"Promo Modifiée",message:"Nouveau message"},response:{message:"Campagne mise à jour",data:{id:1,name:"Promo Modifiée"}}},{method:"DELETE",path:"/api/campaigns/{id}",summary:"Supprimer une campagne",auth:!0,permissions:["create_campaigns"],response:{message:"Campagne supprimée"}},{method:"POST",path:"/api/campaigns/{id}/send",summary:"Lancer une campagne",description:"Démarre l'envoi immédiat d'une campagne en brouillon.",auth:!0,permissions:["create_campaigns"],response:{message:"Campagne lancée",status:"sending"}},{method:"POST",path:"/api/campaigns/{id}/clone",summary:"Cloner une campagne",auth:!0,permissions:["create_campaigns"],response:{message:"Campagne clonée",data:{id:3,name:"Promo Janvier (copie)",status:"draft"}}},{method:"POST",path:"/api/campaigns/{id}/schedule",summary:"Planifier une campagne",auth:!0,permissions:["create_campaigns"],body:{scheduled_at:"2026-02-14T08:00:00",timezone:"Africa/Libreville"},response:{message:"Campagne planifiée",scheduled_at:"2026-02-14T08:00:00"}},{method:"GET",path:"/api/campaigns/{id}/schedule",summary:"Voir la planification d'une campagne",auth:!0,permissions:["create_campaigns"],response:{scheduled_at:"2026-02-14T08:00:00",timezone:"Africa/Libreville",status:"pending"}},{method:"DELETE",path:"/api/campaigns/{id}/schedule",summary:"Annuler la planification",auth:!0,permissions:["create_campaigns"],response:{message:"Planification annulée"}},{method:"POST",path:"/api/campaigns/{id}/variants",summary:"Créer une variante A/B",auth:!0,permissions:["create_campaigns"],body:{name:"Variante B",message:"Message alternatif",percentage:50},response:{message:"Variante créée",data:{id:1,name:"Variante B",percentage:50}}},{method:"GET",path:"/api/campaigns/{id}/variants",summary:"Lister les variantes d'une campagne",auth:!0,permissions:["create_campaigns"],response:{data:[{id:1,name:"Variante A",message:"Message A",percentage:50},{id:2,name:"Variante B",message:"Message B",percentage:50}]}},{method:"DELETE",path:"/api/campaigns/{id}/variants",summary:"Supprimer toutes les variantes",auth:!0,permissions:["create_campaigns"],response:{message:"Variantes supprimées"}},{method:"GET",path:"/api/campaigns/history",summary:"Historique des campagnes",auth:!0,permissions:["view_history"],parameters:[{name:"status",type:"string",description:"Filtrer par statut",example:"completed"},{name:"date_from",type:"string",description:"Date de début",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin",example:"2026-01-31"}],response:{data:[{id:1,name:"Promo",status:"completed",sent_count:500,created_at:"2026-01-10T08:00:00Z"}],meta:{total:15}}},{method:"GET",path:"/api/campaigns/stats",summary:"Statistiques globales des campagnes",auth:!0,permissions:["view_history"],response:{total_campaigns:25,total_sent:12500,total_delivered:11800,average_delivery_rate:94.4,total_cost:25e4}}]},{id:"templates",name:"Templates",description:"Modèles de messages réutilisables avec variables",endpoints:[{method:"GET",path:"/api/templates",summary:"Liste des templates",auth:!0,permissions:["manage_templates"],response:{data:[{id:1,name:"Bienvenue",content:"Bienvenue {prenom} !",category:"notification",is_public:!1}]}},{method:"POST",path:"/api/templates",summary:"Créer un template",auth:!0,permissions:["manage_templates"],body:{name:"Confirmation",content:"Bonjour {prenom}, votre commande #{custom.order_id} est confirmée.",category:"transactional"},response:{message:"Template créé",data:{id:2,name:"Confirmation"}}},{method:"GET",path:"/api/templates/{id}",summary:"Détails d'un template",auth:!0,permissions:["manage_templates"],response:{id:1,name:"Bienvenue",content:"Bienvenue {prenom} !",category:"notification"}},{method:"PUT",path:"/api/templates/{id}",summary:"Modifier un template",auth:!0,permissions:["manage_templates"],body:{name:"Bienvenue V2",content:"Salut {prenom} ! Bienvenue chez SendWave."},response:{message:"Template mis à jour"}},{method:"DELETE",path:"/api/templates/{id}",summary:"Supprimer un template",auth:!0,permissions:["manage_templates"],response:{message:"Template supprimé"}},{method:"GET",path:"/api/templates/categories",summary:"Liste des catégories de templates",auth:!0,permissions:["manage_templates"],response:{categories:["notification","transactional","marketing","reminder"]}},{method:"POST",path:"/api/templates/{id}/use",summary:"Utiliser un template (incrémenter le compteur)",auth:!0,permissions:["manage_templates"],response:{message:"Template utilisé",usage_count:15}},{method:"POST",path:"/api/templates/{id}/preview",summary:"Prévisualiser un template avec des données",auth:!0,permissions:["manage_templates"],body:{variables:{prenom:"Jean",nom:"Dupont"}},response:{preview:"Bonjour Jean Dupont, bienvenue !"}},{method:"POST",path:"/api/templates/{id}/toggle-public",summary:"Basculer la visibilité publique",auth:!0,permissions:["manage_templates"],response:{message:"Visibilité modifiée",is_public:!0}}]},{id:"analytics",name:"Analytics",description:"Tableau de bord, graphiques, rapports et exports analytiques",endpoints:[{method:"GET",path:"/api/analytics/dashboard",summary:"Données du tableau de bord",auth:!0,permissions:["view_analytics"],response:{total_messages:15e3,total_delivered:14200,total_failed:800,delivery_rate:94.67,total_cost:3e5,active_campaigns:3,total_contacts:2500}},{method:"GET",path:"/api/analytics/chart",summary:"Données pour graphiques",auth:!0,permissions:["view_analytics"],parameters:[{name:"period",type:"string",description:"Période: 7d, 30d, 90d, 12m",example:"30d"},{name:"type",type:"string",description:"Type: messages, cost, delivery_rate",example:"messages"}],response:{labels:["01/01","02/01","03/01"],datasets:[{label:"Messages envoyés",data:[150,200,180]}]}},{method:"GET",path:"/api/analytics/report",summary:"Rapport analytique détaillé",auth:!0,permissions:["view_analytics"],parameters:[{name:"date_from",type:"string",description:"Date de début",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin",example:"2026-01-31"}],response:{period:{from:"2026-01-01",to:"2026-01-31"},summary:{total_sent:5e3,total_cost:1e5},by_operator:{airtel:{sent:3e3,cost:6e4},moov:{sent:2e3,cost:4e4}}}},{method:"GET",path:"/api/analytics/providers",summary:"Statistiques par opérateur",auth:!0,permissions:["view_analytics"],response:{providers:[{name:"airtel",sent:8e3,delivered:7600,failed:400,cost:16e4},{name:"moov",sent:7e3,delivered:6600,failed:400,cost:14e4}]}},{method:"GET",path:"/api/analytics/top-campaigns",summary:"Top campagnes par performance",auth:!0,permissions:["view_analytics"],response:{data:[{id:1,name:"Promo Noel",sent:2e3,delivery_rate:96.5,cost:4e4}]}},{method:"POST",path:"/api/analytics/update",summary:"Recalculer les analytics",auth:!0,permissions:["view_analytics"],response:{message:"Analytics mises à jour"}},{method:"GET",path:"/api/analytics/export/pdf",summary:"Exporter le rapport en PDF",auth:!0,permissions:["export_data"],parameters:[{name:"date_from",type:"string",description:"Date de début",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin",example:"2026-01-31"}],response:{_comment:"Téléchargement PDF"}},{method:"GET",path:"/api/analytics/export/excel",summary:"Exporter le rapport en Excel",auth:!0,permissions:["export_data"],response:{_comment:"Téléchargement XLSX"}},{method:"GET",path:"/api/analytics/export/csv",summary:"Exporter le rapport en CSV",auth:!0,permissions:["export_data"],response:{_comment:"Téléchargement CSV"}}]},{id:"sms-analytics",name:"SMS Analytics",description:"Comptabilité analytique SMS, périodes et clôtures mensuelles",endpoints:[{method:"GET",path:"/api/sms-analytics",summary:"Liste des analytics SMS",auth:!0,permissions:["view_analytics"],parameters:[{name:"date_from",type:"string",description:"Date de début",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin",example:"2026-01-31"}],response:{data:[{id:1,phone:"24177123456",provider:"airtel",cost:20,status:"delivered",created_at:"2026-01-15"}],meta:{total:500}}},{method:"GET",path:"/api/sms-analytics/overview",summary:"Vue d'ensemble analytique",auth:!0,permissions:["view_analytics"],response:{current_month:{sent:1200,cost:24e3,delivery_rate:95.2},previous_month:{sent:1e3,cost:2e4,delivery_rate:93.8},growth:{sent:20,cost:20}}},{method:"GET",path:"/api/sms-analytics/periods",summary:"Liste des périodes disponibles",auth:!0,permissions:["view_analytics"],response:{periods:[{key:"2026-01",label:"Janvier 2026",closed:!0},{key:"2026-02",label:"Février 2026",closed:!1}]}},{method:"GET",path:"/api/sms-analytics/closures",summary:"Liste des clôtures mensuelles",auth:!0,permissions:["view_analytics"],response:{data:[{period_key:"2026-01",total_sent:5e3,total_cost:1e5,closed_at:"2026-02-01T00:30:00Z"}]}},{method:"GET",path:"/api/sms-analytics/closures/{periodKey}",summary:"Détails d'une clôture",auth:!0,permissions:["view_analytics"],response:{period_key:"2026-01",total_sent:5e3,total_delivered:4750,total_failed:250,total_cost:1e5,by_operator:{airtel:3e3,moov:2e3},closed_at:"2026-02-01T00:30:00Z"}},{method:"POST",path:"/api/sms-analytics/report",summary:"Générer un rapport analytique",auth:!0,permissions:["view_analytics"],body:{period:"2026-01",format:"detailed"},response:{report:{period:"2026-01",summary:{total_sent:5e3,total_cost:1e5}}}},{method:"GET",path:"/api/sms-analytics/export",summary:"Exporter les analytics SMS",auth:!0,permissions:["export_data"],parameters:[{name:"period",type:"string",description:"Période (YYYY-MM)",example:"2026-01"},{name:"format",type:"string",description:"Format: csv, xlsx, pdf",example:"csv"}],response:{_comment:"Téléchargement du fichier"}}]},{id:"budget",name:"Budget",description:"Gestion des budgets et plafonds mensuels par sous-compte",endpoints:[{method:"GET",path:"/api/budgets/status/{subAccountId?}",summary:"Statut du budget",description:"Retourne le budget restant, utilisé et le plafond. Sans paramètre, retourne le budget du compte principal.",auth:!0,response:{sub_account_id:1,monthly_limit:5e5,used:125e3,remaining:375e3,percentage_used:25,alert_threshold:80}},{method:"GET",path:"/api/budgets/all",summary:"Budgets de tous les sous-comptes",auth:!0,response:{data:[{sub_account_id:1,name:"Équipe Marketing",monthly_limit:5e5,used:125e3}]}},{method:"PUT",path:"/api/budgets/{subAccountId}",summary:"Modifier le budget d'un sous-compte",auth:!0,body:{monthly_limit:75e4,alert_threshold:85},response:{message:"Budget mis à jour",monthly_limit:75e4}},{method:"POST",path:"/api/budgets/check-send",summary:"Vérifier si l'envoi est possible (budget)",auth:!0,body:{recipients_count:100,cost_per_sms:20},response:{can_send:!0,estimated_cost:2e3,remaining_budget:373e3}},{method:"GET",path:"/api/budgets/history/{subAccountId?}",summary:"Historique des consommations budget",auth:!0,parameters:[{name:"period",type:"string",description:"Période (YYYY-MM)",example:"2026-01"}],response:{data:[{date:"2026-01-15",amount:5e3,type:"sms_send",campaign:"Promo"}]}}]},{id:"blacklist",name:"Liste Noire",description:"Gestion des numéros bloqués, mots-clés STOP",endpoints:[{method:"GET",path:"/api/blacklist",summary:"Liste des numéros bloqués",auth:!0,parameters:[{name:"source",type:"string",description:"Filtrer par source: manual, auto_stop, import",example:"auto_stop"}],response:{data:[{id:1,phone:"+24177000000",source:"auto_stop",reason:"STOP reçu",created_at:"2026-01-15"}],meta:{total:25}}},{method:"POST",path:"/api/blacklist",summary:"Ajouter un numéro à la liste noire",auth:!0,body:{phone:"+24177000000",reason:"Demande du client"},response:{message:"Numéro ajouté à la liste noire"}},{method:"DELETE",path:"/api/blacklist/{id}",summary:"Retirer un numéro de la liste noire",auth:!0,response:{message:"Numéro retiré de la liste noire"}},{method:"POST",path:"/api/blacklist/check",summary:"Vérifier si un numéro est bloqué",auth:!0,body:{phone:"+24177000000"},response:{phone:"+24177000000",is_blacklisted:!0,source:"auto_stop"}},{method:"GET",path:"/api/blacklist/stats",summary:"Statistiques de la liste noire",auth:!0,response:{total:25,by_source:{manual:10,auto_stop:12,import:3}}},{method:"GET",path:"/api/blacklist/stop-keywords",summary:"Liste des mots-clés STOP détectés",auth:!0,response:{keywords:["STOP","ARRET","DESABONNER","UNSUBSCRIBE","CANCEL","QUIT","END","OPTOUT"]}}]},{id:"webhooks",name:"Webhooks",description:"Configuration des webhooks, événements, logs et tests",endpoints:[{method:"GET",path:"/api/webhooks",summary:"Liste des webhooks configurés",auth:!0,response:{data:[{id:1,url:"https://example.com/webhook",events:["message.sent","message.delivered"],active:!0}]}},{method:"POST",path:"/api/webhooks",summary:"Créer un webhook",auth:!0,body:{url:"https://example.com/webhook",events:["message.sent","message.delivered","message.failed"],secret:"my-webhook-secret"},response:{message:"Webhook créé",data:{id:2,url:"https://example.com/webhook"}}},{method:"GET",path:"/api/webhooks/{id}",summary:"Détails d'un webhook",auth:!0,response:{id:1,url:"https://example.com/webhook",events:["message.sent","message.delivered"],active:!0,secret:"********",created_at:"2026-01-01T00:00:00Z"}},{method:"PUT",path:"/api/webhooks/{id}",summary:"Modifier un webhook",auth:!0,body:{url:"https://example.com/new-webhook",events:["message.sent"]},response:{message:"Webhook mis à jour"}},{method:"DELETE",path:"/api/webhooks/{id}",summary:"Supprimer un webhook",auth:!0,response:{message:"Webhook supprimé"}},{method:"GET",path:"/api/webhooks/events",summary:"Liste des événements disponibles",auth:!0,response:{events:[{key:"message.sent",description:"Message envoyé"},{key:"message.delivered",description:"Message délivré"},{key:"message.failed",description:"Échec d'envoi"},{key:"message.received",description:"Réponse SMS reçue"},{key:"campaign.started",description:"Campagne démarrée"},{key:"campaign.completed",description:"Campagne terminée"},{key:"contact.unsubscribed",description:"Contact désabonné (STOP)"}]}},{method:"GET",path:"/api/webhooks/{id}/logs",summary:"Logs de livraison d'un webhook",auth:!0,response:{data:[{id:1,event:"message.sent",status_code:200,response_time:150,created_at:"2026-01-15T10:30:00Z"}]}},{method:"GET",path:"/api/webhooks/{id}/stats",summary:"Statistiques d'un webhook",auth:!0,response:{total_calls:500,successful:490,failed:10,average_response_time:120}},{method:"POST",path:"/api/webhooks/{id}/test",summary:"Tester un webhook",auth:!0,response:{success:!0,status_code:200,response_time:95}},{method:"POST",path:"/api/webhooks/{id}/toggle",summary:"Activer/désactiver un webhook",auth:!0,response:{message:"Webhook activé",active:!0}}]},{id:"api-keys",name:"Clés API",description:"Gestion des clés API pour les intégrations externes",endpoints:[{method:"GET",path:"/api/api-keys",summary:"Liste des clés API",auth:!0,response:{data:[{id:1,name:"App Mobile",key:"sk_live_****...",type:"production",status:"active",rate_limit:100,permissions:["send_sms","view_history"]}]}},{method:"POST",path:"/api/api-keys",summary:"Créer une clé API",auth:!0,body:{name:"Nouvelle App",type:"production",permissions:["send_sms","view_history"],rate_limit:100},response:{message:"Clé API créée",data:{id:2,name:"Nouvelle App",key:"swp_live_xxxxxxxxxxxxx"},full_key:"swp_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}},{method:"GET",path:"/api/api-keys/{id}",summary:"Détails d'une clé API",auth:!0,response:{id:1,name:"App Mobile",type:"production",status:"active",permissions:["send_sms"],rate_limit:100,last_used_at:"2026-01-15"}},{method:"PUT",path:"/api/api-keys/{id}",summary:"Modifier une clé API",auth:!0,body:{name:"App Mobile V2",permissions:["send_sms","view_history","manage_contacts"],rate_limit:200},response:{message:"Clé API mise à jour"}},{method:"DELETE",path:"/api/api-keys/{id}",summary:"Supprimer une clé API",auth:!0,response:{message:"Clé API supprimée"}},{method:"POST",path:"/api/api-keys/{id}/revoke",summary:"Révoquer une clé API",description:"Désactive définitivement la clé. Les applications l'utilisant perdent l'accès.",auth:!0,response:{message:"Clé API révoquée"}},{method:"POST",path:"/api/api-keys/{id}/regenerate",summary:"Régénérer une clé API",description:"Génère une nouvelle clé et invalide l'ancienne.",auth:!0,response:{message:"Clé régénérée",full_key:"sk_live_new_xxxxxxxxxxxxxxxxxxxxx"}}]},{id:"sub-accounts",name:"Sous-comptes",description:"Gestion des sous-comptes avec rôles, budgets et permissions",endpoints:[{method:"GET",path:"/api/sub-accounts",summary:"Liste des sous-comptes",auth:!0,response:{data:[{id:1,name:"Équipe Marketing",email:"marketing@company.com",role:"manager",status:"active",credits:5e4}]}},{method:"POST",path:"/api/sub-accounts",summary:"Créer un sous-compte",auth:!0,body:{name:"Équipe Ventes",email:"ventes@company.com",password:"password123",role:"sender",credits:1e5},response:{message:"Sous-compte créé",data:{id:2,name:"Équipe Ventes"}}},{method:"GET",path:"/api/sub-accounts/{id}",summary:"Détails d'un sous-compte",auth:!0,response:{id:1,name:"Équipe Marketing",email:"marketing@company.com",role:"manager",status:"active",credits:5e4,permissions:["send_sms","view_history"]}},{method:"PUT",path:"/api/sub-accounts/{id}",summary:"Modifier un sous-compte",auth:!0,body:{name:"Marketing Pro",role:"admin"},response:{message:"Sous-compte mis à jour"}},{method:"DELETE",path:"/api/sub-accounts/{id}",summary:"Supprimer un sous-compte",auth:!0,response:{message:"Sous-compte supprimé"}},{method:"POST",path:"/api/sub-accounts/login",summary:"Connexion sous-compte",auth:!1,body:{email:"marketing@company.com",password:"password123"},response:{access_token:"2|xyz...",token_type:"Bearer",sub_account:{id:1,name:"Équipe Marketing"}}},{method:"POST",path:"/api/sub-accounts/{id}/credits",summary:"Ajouter/retirer des crédits",auth:!0,body:{amount:5e4,type:"add",reason:"Recharge mensuelle"},response:{message:"Crédits mis à jour",new_balance:1e5}},{method:"POST",path:"/api/sub-accounts/{id}/permissions",summary:"Modifier les permissions",auth:!0,body:{permissions:["send_sms","view_history","manage_contacts","view_analytics"]},response:{message:"Permissions mises à jour"}},{method:"POST",path:"/api/sub-accounts/{id}/suspend",summary:"Suspendre un sous-compte",auth:!0,response:{message:"Sous-compte suspendu"}},{method:"POST",path:"/api/sub-accounts/{id}/activate",summary:"Réactiver un sous-compte",auth:!0,response:{message:"Sous-compte réactivé"}}]},{id:"sms-config",name:"Configuration SMS",description:"Configuration des opérateurs SMS (Airtel, Moov) et providers",endpoints:[{method:"GET",path:"/api/sms-configs",summary:"Liste des configurations SMS",auth:!0,response:{data:[{provider:"airtel",enabled:!0,cost_per_sms:20,last_tested:"2026-01-15"},{provider:"moov",enabled:!1,cost_per_sms:20,last_tested:null}]}},{method:"GET",path:"/api/sms-configs/{provider}",summary:"Configuration d'un opérateur",auth:!0,response:{provider:"airtel",enabled:!0,api_url:"https://messaging.airtel.ga:9002/...",cost_per_sms:20,sender_id:"SENDWAVE"}},{method:"PUT",path:"/api/sms-configs/{provider}",summary:"Modifier la configuration d'un opérateur",auth:!0,body:{api_url:"https://new-url.com/api",username:"user",password:"pass",cost_per_sms:25},response:{message:"Configuration mise à jour"}},{method:"POST",path:"/api/sms-configs/{provider}/test",summary:"Tester la connexion opérateur",auth:!0,response:{success:!0,message:"Connexion réussie",response_time:250}},{method:"POST",path:"/api/sms-configs/{provider}/toggle",summary:"Activer/désactiver un opérateur",auth:!0,response:{message:"Opérateur activé",enabled:!0}},{method:"POST",path:"/api/sms-configs/{provider}/reset",summary:"Réinitialiser la configuration",auth:!0,response:{message:"Configuration réinitialisée aux valeurs par défaut"}},{method:"GET",path:"/api/sms-providers",summary:"Liste des providers SMS disponibles",auth:!0,response:{data:[{code:"airtel",name:"Airtel Gabon",type:"http",prefixes:["74","76","77"]},{code:"moov",name:"Moov Gabon",type:"smpp",prefixes:["60","62","65","66"]}]}},{method:"POST",path:"/api/sms-providers",summary:"Ajouter un provider SMS",auth:!0,body:{code:"orange",name:"Orange",type:"http",prefixes:["07"]},response:{message:"Provider créé"}},{method:"GET",path:"/api/sms-providers/{code}",summary:"Détails d'un provider",auth:!0,response:{code:"airtel",name:"Airtel Gabon",type:"http",prefixes:["74","76","77"],enabled:!0}},{method:"POST",path:"/api/sms-providers/{code}/test",summary:"Tester un provider",auth:!0,response:{success:!0,message:"Test réussi"}}]},{id:"phone",name:"Normalisation Téléphone",description:"Normalisation E.164, détection pays et opérateur",endpoints:[{method:"GET",path:"/api/phone/countries",summary:"Liste des pays supportés",auth:!1,response:{countries:[{code:"GA",name:"Gabon",prefix:"241",local_length:8},{code:"CM",name:"Cameroun",prefix:"237",local_length:9},{code:"CG",name:"Congo",prefix:"242",local_length:9},{code:"CI",name:"Côte d'Ivoire",prefix:"225",local_length:10},{code:"SN",name:"Sénégal",prefix:"221",local_length:9}]}},{method:"POST",path:"/api/phone/normalize",summary:"Normaliser un numéro de téléphone",auth:!0,body:{phone:"77123456",country:"GA"},response:{original:"77123456",normalized:"+24177123456",country:"GA",operator:"airtel",valid:!0}},{method:"POST",path:"/api/phone/normalize-many",summary:"Normaliser plusieurs numéros",auth:!0,body:{phones:["77123456","62987654","+237650123456"]},response:{results:[{original:"77123456",normalized:"+24177123456",country:"GA",operator:"airtel",valid:!0},{original:"62987654",normalized:"+24162987654",country:"GA",operator:"moov",valid:!0},{original:"+237650123456",normalized:"+237650123456",country:"CM",operator:"unknown",valid:!0}],summary:{total:3,valid:3,invalid:0}}}]},{id:"incoming-sms",name:"SMS Entrants",description:"Réception de SMS entrants et webhooks opérateurs",endpoints:[{method:"POST",path:"/api/webhooks/incoming/sms",summary:"Webhook SMS entrant (générique)",auth:!1,description:"Endpoint public pour recevoir les SMS entrants. Détecte automatiquement les mots-clés STOP.",body:{from:"+24177123456",to:"SENDWAVE",message:"STOP",timestamp:"2026-01-15T10:30:00Z"},response:{status:"received",action:"blacklisted"}},{method:"POST",path:"/api/webhooks/incoming/airtel",summary:"Webhook SMS entrant Airtel",auth:!1,description:"Endpoint spécifique pour le format de notification Airtel.",body:{sender:"24177123456",receiver:"SENDWAVE",text:"Hello",messageId:"AIR123456"},response:{status:"received"}},{method:"POST",path:"/api/webhooks/incoming/moov",summary:"Webhook SMS entrant Moov",auth:!1,description:"Endpoint spécifique pour le format de notification Moov (SMPP DLR).",body:{source_addr:"24162987654",dest_addr:"SENDWAVE",short_message:"Hello",message_id:"MOOV789"},response:{status:"received"}}]},{id:"audit-logs",name:"Journal d'Audit",description:"Traçabilité des actions utilisateurs et système",endpoints:[{method:"GET",path:"/api/audit-logs",summary:"Liste des logs d'audit",auth:!0,parameters:[{name:"action",type:"string",description:"Filtrer par action",example:"sms.sent"},{name:"user_id",type:"integer",description:"Filtrer par utilisateur"},{name:"date_from",type:"string",description:"Date de début",example:"2026-01-01"},{name:"date_to",type:"string",description:"Date de fin",example:"2026-01-31"}],response:{data:[{id:1,action:"sms.sent",user:"Admin",details:"500 SMS envoyés",ip:"192.168.1.1",created_at:"2026-01-15T10:30:00Z"}],meta:{total:200}}},{method:"GET",path:"/api/audit-logs/actions",summary:"Liste des types d'actions",auth:!0,response:{actions:["sms.sent","campaign.created","contact.imported","api_key.created","user.login"]}},{method:"GET",path:"/api/audit-logs/{id}",summary:"Détail d'un log d'audit",auth:!0,response:{id:1,action:"sms.sent",user:{id:1,name:"Admin"},details:{recipients:500,cost:1e4,campaign_id:5},ip:"192.168.1.1",user_agent:"Mozilla/5.0...",created_at:"2026-01-15T10:30:00Z"}}]},{id:"accounts",name:"Comptes",description:"Gestion des comptes clients (SuperAdmin uniquement)",endpoints:[{method:"GET",path:"/api/accounts",summary:"Liste des comptes",auth:!0,permissions:["superadmin"],response:{data:[{id:1,name:"Entreprise A",email:"admin@entreprise-a.com",status:"active",credits:5e5}]}},{method:"POST",path:"/api/accounts",summary:"Créer un compte",auth:!0,permissions:["superadmin"],body:{name:"Nouvelle Entreprise",email:"admin@nouvelle.com",password:"password123",credits:1e5},response:{message:"Compte créé",data:{id:2,name:"Nouvelle Entreprise"}}},{method:"GET",path:"/api/accounts/{id}",summary:"Détails d'un compte",auth:!0,permissions:["superadmin"],response:{id:1,name:"Entreprise A",email:"admin@entreprise-a.com",status:"active",credits:5e5}},{method:"PUT",path:"/api/accounts/{id}",summary:"Modifier un compte",auth:!0,permissions:["superadmin"],body:{name:"Entreprise A Pro"},response:{message:"Compte mis à jour"}},{method:"DELETE",path:"/api/accounts/{id}",summary:"Supprimer un compte",auth:!0,permissions:["superadmin"],response:{message:"Compte supprimé"}},{method:"POST",path:"/api/accounts/{id}/credits",summary:"Ajouter des crédits",auth:!0,permissions:["superadmin"],body:{amount:1e5,reason:"Achat crédits"},response:{message:"Crédits ajoutés",new_balance:6e5}},{method:"POST",path:"/api/accounts/{id}/suspend",summary:"Suspendre un compte",auth:!0,permissions:["superadmin"],response:{message:"Compte suspendu"}},{method:"POST",path:"/api/accounts/{id}/activate",summary:"Réactiver un compte",auth:!0,permissions:["superadmin"],response:{message:"Compte réactivé"}},{method:"GET",path:"/api/accounts/{id}/stats",summary:"Statistiques d'un compte",auth:!0,permissions:["superadmin"],response:{total_sent:15e3,total_cost:3e5,users_count:5,active_campaigns:2}},{method:"GET",path:"/api/accounts/{id}/users",summary:"Utilisateurs d'un compte",auth:!0,permissions:["superadmin"],response:{data:[{id:1,name:"Admin",email:"admin@company.com",role:"admin"}]}}]},{id:"users",name:"Utilisateurs",description:"Gestion des utilisateurs d'un compte, rôles et permissions",endpoints:[{method:"GET",path:"/api/users",summary:"Liste des utilisateurs",auth:!0,permissions:["manage_sub_accounts"],response:{data:[{id:1,name:"John Doe",email:"john@company.com",role:"manager",status:"active"}]}},{method:"POST",path:"/api/users",summary:"Créer un utilisateur",auth:!0,permissions:["manage_sub_accounts"],body:{name:"Jane Doe",email:"jane@company.com",password:"password123",role:"sender"},response:{message:"Utilisateur créé",data:{id:2,name:"Jane Doe"}}},{method:"GET",path:"/api/users/{id}",summary:"Détails d'un utilisateur",auth:!0,permissions:["manage_sub_accounts"],response:{id:1,name:"John Doe",email:"john@company.com",role:"manager",permissions:["send_sms","view_history"]}},{method:"PUT",path:"/api/users/{id}",summary:"Modifier un utilisateur",auth:!0,permissions:["manage_sub_accounts"],body:{name:"John Updated",role:"admin"},response:{message:"Utilisateur mis à jour"}},{method:"DELETE",path:"/api/users/{id}",summary:"Supprimer un utilisateur",auth:!0,permissions:["manage_sub_accounts"],response:{message:"Utilisateur supprimé"}},{method:"POST",path:"/api/users/{id}/suspend",summary:"Suspendre un utilisateur",auth:!0,permissions:["manage_sub_accounts"],response:{message:"Utilisateur suspendu"}},{method:"POST",path:"/api/users/{id}/activate",summary:"Réactiver un utilisateur",auth:!0,permissions:["manage_sub_accounts"],response:{message:"Utilisateur réactivé"}},{method:"PUT",path:"/api/users/{id}/permissions",summary:"Modifier les permissions d'un utilisateur",auth:!0,permissions:["manage_sub_accounts"],body:{permissions:["send_sms","view_history","manage_contacts"]},response:{message:"Permissions mises à jour"}},{method:"GET",path:"/api/users/available-roles",summary:"Liste des rôles disponibles",auth:!0,permissions:["manage_sub_accounts"],response:{roles:["admin","manager","sender","viewer"]}},{method:"GET",path:"/api/users/available-permissions",summary:"Permissions attribuables",auth:!0,permissions:["manage_sub_accounts"],response:{permissions:[{key:"send_sms",label:"Envoyer des SMS"},{key:"view_history",label:"Voir l'historique"},{key:"manage_contacts",label:"Gérer les contacts"}]}}]},{id:"custom-roles",name:"Rôles Personnalisés",description:"Création et gestion de rôles personnalisés (SuperAdmin)",endpoints:[{method:"GET",path:"/api/custom-roles",summary:"Liste des rôles personnalisés",auth:!0,permissions:["superadmin"],response:{data:[{id:1,name:"Superviseur",permissions:["send_sms","view_history","view_analytics"],users_count:3}]}},{method:"POST",path:"/api/custom-roles",summary:"Créer un rôle personnalisé",auth:!0,permissions:["superadmin"],body:{name:"Opérateur",description:"Peut envoyer des SMS et voir les stats",permissions:["send_sms","view_history","view_analytics"]},response:{message:"Rôle créé",data:{id:2,name:"Opérateur"}}},{method:"GET",path:"/api/custom-roles/{id}",summary:"Détails d'un rôle",auth:!0,permissions:["superadmin"],response:{id:1,name:"Superviseur",description:"Supervision des envois",permissions:["send_sms","view_history"]}},{method:"PUT",path:"/api/custom-roles/{id}",summary:"Modifier un rôle",auth:!0,permissions:["superadmin"],body:{name:"Superviseur Pro",permissions:["send_sms","view_history","view_analytics","manage_contacts"]},response:{message:"Rôle mis à jour"}},{method:"DELETE",path:"/api/custom-roles/{id}",summary:"Supprimer un rôle",auth:!0,permissions:["superadmin"],response:{message:"Rôle supprimé"}},{method:"POST",path:"/api/custom-roles/{id}/duplicate",summary:"Dupliquer un rôle",auth:!0,permissions:["superadmin"],response:{message:"Rôle dupliqué",data:{id:3,name:"Superviseur (copie)"}}},{method:"GET",path:"/api/custom-roles/permissions",summary:"Permissions attribuables aux rôles",auth:!0,permissions:["superadmin"],response:{permissions:[{key:"send_sms",label:"Envoyer des SMS",group:"Messages"},{key:"view_history",label:"Voir l'historique",group:"Messages"},{key:"manage_contacts",label:"Gérer les contacts",group:"Contacts"}]}}]},{id:"system",name:"Système",description:"Endpoints systèmes en lecture seule",endpoints:[{method:"GET",path:"/api/system-roles",summary:"Rôles système prédéfinis",auth:!0,response:{roles:[{key:"admin",label:"Administrateur",description:"Accès complet"},{key:"manager",label:"Manager",description:"Gestion des envois et contacts"},{key:"sender",label:"Envoyeur",description:"Envoi de SMS uniquement"},{key:"viewer",label:"Lecteur",description:"Lecture seule"}]}},{method:"GET",path:"/api/system-permissions",summary:"Permissions système",auth:!0,response:{permissions:["send_sms","view_history","manage_contacts","manage_groups","create_campaigns","view_analytics","manage_templates","export_data"]}}]}];function xe(){return U.reduce((a,r)=>a+r.endpoints.length,0)}function be(a){return{GET:"bg-blue-600 text-white",POST:"bg-green-600 text-white",PUT:"bg-orange-500 text-white",DELETE:"bg-red-600 text-white"}[a]||"bg-gray-600 text-white"}const _e={class:"border rounded-lg overflow-hidden"},fe={class:"text-sm font-mono flex-1 truncate"},we={class:"text-xs text-muted-foreground hidden sm:block max-w-[200px] truncate"},ke={key:0,class:"border-t bg-muted/20 p-4 space-y-4"},Te={class:"font-medium text-sm"},Se={key:0,class:"text-sm text-muted-foreground mt-1"},Ee={class:"flex flex-wrap gap-2"},Pe={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},Ce={key:1,class:"inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"},Ae={key:0},Ge={class:"rounded border overflow-hidden"},Me={class:"w-full text-sm"},De={class:"divide-y"},Oe={class:"px-3 py-1.5 font-mono text-xs"},Le={class:"px-3 py-1.5 text-xs text-muted-foreground"},$e={class:"px-3 py-1.5 text-xs text-muted-foreground hidden sm:table-cell"},qe={key:0,class:"ml-1 text-xs bg-muted px-1 rounded"},je={key:1},Ve={class:"relative"},Ne={class:"p-3 bg-muted rounded-lg text-xs font-mono overflow-x-auto max-h-[300px]"},Ie={key:2},Ue={class:"relative"},Re={class:"p-3 bg-muted rounded-lg text-xs font-mono overflow-x-auto max-h-[300px] text-green-700 dark:text-green-400"},Be={key:3},ze={class:"relative"},Je={class:"p-3 bg-gray-900 text-gray-100 rounded-lg text-xs font-mono overflow-x-auto"},Fe=R({__name:"ApiEndpoint",props:{endpoint:{},baseUrl:{}},setup(a){const r=a,v=f(!1),w=M(()=>be(r.endpoint.method)),_=M(()=>{if(r.endpoint.curl)return r.endpoint.curl.replace("{baseUrl}",r.baseUrl);const x=`${r.baseUrl}${r.endpoint.path}`;let n=`curl -X ${r.endpoint.method} ${x}`;if(r.endpoint.auth&&(n+=` \\
  -H 'Authorization: Bearer YOUR_TOKEN'`),r.endpoint.body){const k={...r.endpoint.body};delete k._comment,Object.keys(k).length>0&&(n+=` \\
  -H 'Content-Type: application/json'`,n+=` \\
  -d '${JSON.stringify(k)}'`)}return n});function d(x){return JSON.stringify(x,null,2)}function c(x){navigator.clipboard.writeText(x)}return(x,n)=>{var k;return o(),i("div",_e,[e("button",{onClick:n[0]||(n[0]=p=>v.value=!v.value),class:"w-full flex items-center gap-3 p-3 hover:bg-muted/50 transition-colors text-left"},[e("span",{class:V(["px-2 py-0.5 text-xs font-semibold rounded min-w-[52px] text-center",w.value])},m(a.endpoint.method),3),e("code",fe,m(a.endpoint.path),1),e("span",we,m(a.endpoint.summary),1),h(g(ee),{class:V(["w-4 h-4 text-muted-foreground transition-transform shrink-0",{"rotate-180":v.value}])},null,8,["class"])]),v.value?(o(),i("div",ke,[e("div",null,[e("h4",Te,m(a.endpoint.summary),1),a.endpoint.description?(o(),i("p",Se,m(a.endpoint.description),1)):l("",!0)]),e("div",Ee,[a.endpoint.auth?(o(),i("span",Pe,[h(g(ye),{class:"w-3 h-3"}),n[4]||(n[4]=G(" Authentification requise ",-1))])):(o(),i("span",Ce,[h(g(ve),{class:"w-3 h-3"}),n[5]||(n[5]=G(" Public ",-1))])),(o(!0),i(E,null,P(a.endpoint.permissions,p=>(o(),i("span",{key:p,class:"px-2 py-0.5 text-xs rounded-full bg-primary/10 text-primary"},m(p),1))),128))]),(k=a.endpoint.parameters)!=null&&k.length?(o(),i("div",Ae,[n[7]||(n[7]=e("h5",{class:"text-xs font-semibold uppercase text-muted-foreground mb-2"},"Paramètres",-1)),e("div",Ge,[e("table",Me,[n[6]||(n[6]=e("thead",{class:"bg-muted/50"},[e("tr",null,[e("th",{class:"text-left px-3 py-1.5 text-xs font-medium text-muted-foreground"},"Nom"),e("th",{class:"text-left px-3 py-1.5 text-xs font-medium text-muted-foreground"},"Type"),e("th",{class:"text-left px-3 py-1.5 text-xs font-medium text-muted-foreground hidden sm:table-cell"},"Description")])],-1)),e("tbody",De,[(o(!0),i(E,null,P(a.endpoint.parameters,p=>(o(),i("tr",{key:p.name},[e("td",Oe,m(p.name),1),e("td",Le,m(p.type),1),e("td",$e,[G(m(p.description)+" ",1),p.example?(o(),i("code",qe,m(p.example),1)):l("",!0)])]))),128))])])])])):l("",!0),a.endpoint.body?(o(),i("div",je,[n[8]||(n[8]=e("h5",{class:"text-xs font-semibold uppercase text-muted-foreground mb-2"},"Corps de la requête",-1)),e("div",Ve,[e("pre",Ne,m(d(a.endpoint.body)),1),e("button",{onClick:n[1]||(n[1]=p=>c(d(a.endpoint.body))),class:"absolute top-2 right-2 p-1 rounded hover:bg-background/80 text-muted-foreground hover:text-foreground",title:"Copier"},[h(g(j),{class:"w-3.5 h-3.5"})])])])):l("",!0),a.endpoint.response?(o(),i("div",Ie,[n[9]||(n[9]=e("h5",{class:"text-xs font-semibold uppercase text-muted-foreground mb-2"},"Réponse",-1)),e("div",Ue,[e("pre",Re,m(d(a.endpoint.response)),1),e("button",{onClick:n[2]||(n[2]=p=>c(d(a.endpoint.response))),class:"absolute top-2 right-2 p-1 rounded hover:bg-background/80 text-muted-foreground hover:text-foreground",title:"Copier"},[h(g(j),{class:"w-3.5 h-3.5"})])])])):l("",!0),_.value?(o(),i("div",Be,[n[10]||(n[10]=e("h5",{class:"text-xs font-semibold uppercase text-muted-foreground mb-2"},"Exemple cURL",-1)),e("div",ze,[e("pre",Je,m(_.value),1),e("button",{onClick:n[3]||(n[3]=p=>c(_.value)),class:"absolute top-2 right-2 p-1 rounded hover:bg-gray-700 text-gray-400 hover:text-gray-200",title:"Copier"},[h(g(j),{class:"w-3.5 h-3.5"})])])])):l("",!0)])):l("",!0)])}}}),We={class:"rounded-lg border bg-card"},He={class:"flex items-center gap-3"},Ze={class:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary/10 text-primary"},Ye={class:"text-sm font-bold"},Xe={class:"font-semibold text-sm"},Qe={class:"text-xs text-muted-foreground"},Ke={key:0,class:"border-t p-4 space-y-2"},es={key:0,class:"text-sm text-muted-foreground text-center py-4"},ss=R({__name:"ApiCategorySection",props:{category:{},baseUrl:{},searchQuery:{},methodFilter:{},defaultOpen:{type:Boolean}},setup(a){const r=a,v=f(r.defaultOpen??!1),w=M(()=>{let _=r.category.endpoints;if(r.methodFilter&&(_=_.filter(d=>d.method===r.methodFilter)),r.searchQuery){const d=r.searchQuery.toLowerCase();_=_.filter(c=>{var x;return c.path.toLowerCase().includes(d)||c.summary.toLowerCase().includes(d)||((x=c.description)==null?void 0:x.toLowerCase().includes(d))})}return _});return(_,d)=>(o(),i("div",We,[e("button",{onClick:d[0]||(d[0]=c=>v.value=!v.value),class:"w-full flex items-center justify-between p-4 hover:bg-muted/30 transition-colors text-left"},[e("div",He,[e("div",Ze,[e("span",Ye,m(a.category.endpoints.length),1)]),e("div",null,[e("h3",Xe,m(a.category.name),1),e("p",Qe,m(a.category.description),1)])]),h(g(ee),{class:V(["w-5 h-5 text-muted-foreground transition-transform shrink-0",{"rotate-180":v.value}])},null,8,["class"])]),v.value?(o(),i("div",Ke,[(o(!0),i(E,null,P(w.value,(c,x)=>(o(),I(Fe,{key:x,endpoint:c,"base-url":a.baseUrl},null,8,["endpoint","base-url"]))),128)),w.value.length===0?(o(),i("p",es," Aucun endpoint ne correspond aux filtres. ")):l("",!0)])):l("",!0)]))}}),q={async getAll(){const a=await S.get("/api-keys");return a.data.data||a.data},async getById(a){const r=await S.get(`/api-keys/${a}`);return r.data.data||r.data},async create(a){const r=await S.post("/api-keys",a);return r.data.data||r.data},async update(a,r){const v=await S.put(`/api-keys/${a}`,r);return v.data.data||v.data},async revoke(a){const r=await S.post(`/api-keys/${a}/revoke`);return r.data.data||r.data},async regenerate(a){const r=await S.post(`/api-keys/${a}/regenerate`);return r.data.data||r.data},async delete(a){await S.delete(`/api-keys/${a}`)}},ts={class:"p-4 sm:p-6 lg:p-8"},as={class:"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4"},os={key:0,class:"space-y-6"},rs={class:"rounded-lg border bg-card"},is={key:0,class:"p-8 flex items-center justify-center"},ns={key:1,class:"p-8 text-center text-muted-foreground"},ms={key:2,class:"divide-y"},ds={class:"flex items-start justify-between"},us={class:"flex-1"},ps={class:"flex items-center gap-2"},ls={class:"font-medium"},cs={key:0,class:"px-2 py-0.5 text-xs rounded-full bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"},hs={class:"mt-1 flex items-center gap-2"},gs={class:"text-sm font-mono bg-muted px-2 py-1 rounded"},ys=["onClick"],vs={class:"mt-2 flex items-center gap-4 text-xs text-muted-foreground"},xs={key:0},bs={class:"mt-2 flex flex-wrap gap-1"},_s={class:"flex gap-2"},fs=["onClick","disabled"],ws=["onClick","disabled"],ks={key:1,class:"space-y-6"},Ts={class:"flex flex-col sm:flex-row gap-3"},Ss={class:"relative flex-1"},Es={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ps={class:"rounded-lg border bg-card p-4"},Cs={class:"text-2xl font-bold text-primary"},As={class:"rounded-lg border bg-card p-4"},Gs={class:"text-xs font-mono text-muted-foreground"},Ms={class:"space-y-3"},Ds={key:0,class:"text-center py-12 text-muted-foreground"},Os={class:"bg-background rounded-lg shadow-lg w-full max-w-md p-6"},Ls={class:"flex items-center justify-between mb-6"},$s={class:"space-y-2"},qs={class:"space-y-2"},js={class:"space-y-2"},Vs={class:"space-y-2"},Ns=["value"],Is={class:"text-sm"},Us={class:"space-y-2"},Rs={class:"flex gap-3 pt-4 border-t"},Bs=["disabled"],zs={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},Js={class:"bg-background rounded-lg shadow-lg w-full max-w-md p-6"},Fs={class:"text-center mb-6"},Ws={class:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mx-auto mb-4"},Hs={class:"p-4 bg-muted rounded-lg mb-6"},Zs={class:"text-sm font-mono break-all"},Ys={class:"flex gap-3"},rt=R({__name:"ApiIntegrations",setup(a){const r=M(()=>window.location.origin),v=xe(),w=f("keys"),_=[{id:"keys",label:"Mes Clés",icon:Q},{id:"docs",label:"Documentation API",icon:ge}],d=f(""),c=f(""),x=M(()=>!d.value&&!c.value?U:U.filter(y=>{const s=d.value.toLowerCase(),t=c.value;return y.endpoints.some(u=>{var F;const T=!t||u.method===t,re=!s||u.path.toLowerCase().includes(s)||u.summary.toLowerCase().includes(s)||((F=u.description)==null?void 0:F.toLowerCase().includes(s))||y.name.toLowerCase().includes(s);return T&&re})})),n=f([]),k=f(!1),p=f(!1),C=f(!1),D=f(!1),O=f(""),B={send_sms:"Envoyer des SMS",view_history:"Voir l'historique",manage_contacts:"Gérer les contacts",view_balance:"Voir le solde"},b=ie({name:"",type:"production",permissions:["send_sms","view_history"],rate_limit:100});async function L(){k.value=!0;try{n.value=await q.getAll()}catch(y){console.error("Error loading API keys:",y)}finally{k.value=!1}}function se(){b.name="",b.type="production",b.permissions=["send_sms","view_history"],b.rate_limit=100,C.value=!0}async function te(){var y,s;if(!b.name){$("Veuillez entrer un nom pour la clé");return}p.value=!0;try{const t=await q.create(b);C.value=!1,O.value=t.full_key||t.key,D.value=!0,await L()}catch(t){$(((s=(y=t.response)==null?void 0:y.data)==null?void 0:s.message)||"Erreur lors de la création")}finally{p.value=!1}}async function ae(y){var t,u;if(await Y("Révoquer la clé API ?","Cette action est irréversible. Les applications utilisant cette clé ne pourront plus accéder à l'API."))try{await q.revoke(y),X("Clé API révoquée"),await L()}catch(T){$(((u=(t=T.response)==null?void 0:t.data)==null?void 0:u.message)||"Erreur lors de la révocation")}}async function oe(y){var t,u;if(await Y("Régénérer la clé API ?","L'ancienne clé sera invalidée et remplacée par une nouvelle."))try{const T=await q.regenerate(y);O.value=T.full_key||T.key,D.value=!0,await L()}catch(T){$(((u=(t=T.response)==null?void 0:t.data)==null?void 0:u.message)||"Erreur lors de la régénération")}}function z(y){navigator.clipboard.writeText(y),X("Clé copiée dans le presse-papier")}function J(y){return new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return ne(()=>{L()}),(y,s)=>(o(),I(ue,null,{default:me(()=>[e("div",ts,[e("div",as,[s[13]||(s[13]=e("div",null,[e("h1",{class:"text-xl sm:text-3xl font-bold"},"Clés API"),e("p",{class:"text-sm text-muted-foreground mt-1 sm:mt-2"},"Gérez vos clés API et consultez la documentation complète")],-1)),w.value==="keys"?(o(),i("button",{key:0,onClick:se,class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 sm:h-10 px-3 sm:px-4 py-2"},[h(g(pe),{class:"w-4 h-4"}),s[11]||(s[11]=e("span",{class:"hidden sm:inline"},"Nouvelle clé API",-1)),s[12]||(s[12]=e("span",{class:"sm:hidden"},"Nouvelle clé",-1))])):l("",!0)]),h(le,{modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=t=>w.value=t),tabs:_,class:"mb-6"},null,8,["modelValue"]),w.value==="keys"?(o(),i("div",os,[e("div",rs,[s[17]||(s[17]=e("div",{class:"p-6 border-b"},[e("h3",{class:"font-semibold"},"Clés API actives"),e("p",{class:"text-sm text-muted-foreground"},"Les clés permettent aux applications externes d'accéder à l'API SendWave")],-1)),k.value?(o(),i("div",is,[...s[14]||(s[14]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)])])):n.value.length===0?(o(),i("div",ns,[h(g(Q),{class:"w-12 h-12 mx-auto mb-4 opacity-50"}),s[15]||(s[15]=e("p",null,"Aucune clé API créée",-1)),s[16]||(s[16]=e("p",{class:"text-sm"},"Créez une clé pour commencer à utiliser l'API",-1))])):(o(),i("div",ms,[(o(!0),i(E,null,P(n.value,t=>(o(),i("div",{key:t.id,class:"p-4 hover:bg-muted/50"},[e("div",ds,[e("div",us,[e("div",ps,[e("span",ls,m(t.name),1),e("span",{class:V(["px-2 py-0.5 text-xs rounded-full",t.type==="production"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300"])},m(t.type==="production"?"Production":"Test"),3),t.status==="revoked"?(o(),i("span",cs," Révoquée ")):l("",!0)]),e("div",hs,[e("code",gs,m(t.key),1),t.full_key?(o(),i("button",{key:0,onClick:u=>z(t.full_key),class:"text-xs text-primary hover:underline"}," Copier ",8,ys)):l("",!0)]),e("div",vs,[e("span",null,"Créée le "+m(J(t.created_at)),1),t.last_used_at?(o(),i("span",xs,"Dernière utilisation: "+m(J(t.last_used_at)),1)):l("",!0),e("span",null,"Limite: "+m(t.rate_limit)+" req/min",1)]),e("div",bs,[(o(!0),i(E,null,P(t.permissions,u=>(o(),i("span",{key:u,class:"px-2 py-0.5 text-xs rounded bg-primary/10 text-primary"},m(B[u]||u),1))),128))])]),e("div",_s,[e("button",{onClick:u=>oe(t.id),disabled:t.status==="revoked",class:"text-sm px-3 py-1 rounded border hover:bg-accent disabled:opacity-50",title:"Régénérer"},[h(g(ce),{class:"w-4 h-4"})],8,fs),e("button",{onClick:u=>ae(t.id),disabled:t.status==="revoked",class:"text-sm px-3 py-1 rounded border hover:bg-destructive/10 text-destructive disabled:opacity-50",title:"Révoquer"},[h(g(Z),{class:"w-4 h-4"})],8,ws)])])]))),128))]))])])):l("",!0),w.value==="docs"?(o(),i("div",ks,[e("div",Ts,[e("div",Ss,[h(g(K),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),A(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),type:"text",placeholder:"Rechercher un endpoint (ex: /messages/send, contacts, webhook...)",class:"flex h-10 w-full rounded-md border border-input bg-background pl-9 pr-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"},null,512),[[N,d.value]])]),A(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),class:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-sm min-w-[140px]"},[...s[18]||(s[18]=[e("option",{value:""},"Toutes les méthodes",-1),e("option",{value:"GET"},"GET",-1),e("option",{value:"POST"},"POST",-1),e("option",{value:"PUT"},"PUT",-1),e("option",{value:"DELETE"},"DELETE",-1)])],512),[[W,c.value]])]),e("div",Es,[e("div",Ps,[e("div",Cs,m(g(v)),1),s[19]||(s[19]=e("div",{class:"text-sm text-muted-foreground"},"Endpoints API",-1))]),e("div",As,[s[20]||(s[20]=e("div",{class:"text-sm font-medium mb-1"},"URL de base",-1)),e("code",Gs,m(r.value)+"/api",1)]),s[21]||(s[21]=e("div",{class:"rounded-lg border bg-card p-4"},[e("div",{class:"text-sm font-medium mb-1"},"Authentification"),e("code",{class:"text-xs font-mono text-muted-foreground"},"Authorization: Bearer {token}")],-1))]),e("div",Ms,[(o(!0),i(E,null,P(x.value,t=>(o(),I(ss,{key:t.id,category:t,"base-url":r.value,"search-query":d.value,"method-filter":c.value,"default-open":!!d.value||!!c.value},null,8,["category","base-url","search-query","method-filter","default-open"]))),128))]),x.value.length===0?(o(),i("div",Ds,[h(g(K),{class:"w-10 h-10 mx-auto mb-3 opacity-50"}),e("p",null,'Aucun endpoint trouvé pour "'+m(d.value)+'"',1)])):l("",!0),s[22]||(s[22]=e("div",{class:"p-4 bg-yellow-50 dark:bg-yellow-950 rounded-lg border border-yellow-200 dark:border-yellow-800"},[e("h4",{class:"font-medium text-yellow-800 dark:text-yellow-200 mb-1"},"Limites de requêtes"),e("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"},[G(" Chaque clé API a une limite de requêtes par minute. En cas de dépassement, vous recevrez une erreur 429 (Too Many Requests). L'endpoint "),e("code",{class:"bg-yellow-100 dark:bg-yellow-900 px-1 rounded"},"/api/messages/send"),G(" a un rate limit additionnel spécifique. ")])],-1))])):l("",!0)]),C.value?(o(),i("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:s[9]||(s[9]=H(t=>C.value=!1,["self"]))},[e("div",Os,[e("div",Ls,[s[23]||(s[23]=e("h2",{class:"text-xl font-bold"},"Nouvelle clé API",-1)),e("button",{onClick:s[3]||(s[3]=t=>C.value=!1),class:"hover:bg-accent rounded-full p-1"},[h(g(Z),{class:"w-5 h-5"})])]),e("form",{onSubmit:H(te,["prevent"]),class:"space-y-4"},[e("div",$s,[s[24]||(s[24]=e("label",{class:"text-sm font-medium"},"Nom de la clé *",-1)),A(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>b.name=t),type:"text",placeholder:"Ex: Application mobile",required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[N,b.name]])]),e("div",qs,[s[26]||(s[26]=e("label",{class:"text-sm font-medium"},"Type",-1)),A(e("select",{"onUpdate:modelValue":s[5]||(s[5]=t=>b.type=t),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...s[25]||(s[25]=[e("option",{value:"production"},"Production",-1),e("option",{value:"test"},"Test",-1)])],512),[[W,b.type]])]),e("div",js,[s[27]||(s[27]=e("label",{class:"text-sm font-medium"},"Permissions",-1)),e("div",Vs,[(o(),i(E,null,P(B,(t,u)=>e("label",{key:u,class:"flex items-center gap-2"},[A(e("input",{type:"checkbox",value:u,"onUpdate:modelValue":s[6]||(s[6]=T=>b.permissions=T),class:"rounded border-input"},null,8,Ns),[[de,b.permissions]]),e("span",Is,m(t),1)])),64))])]),e("div",Us,[s[28]||(s[28]=e("label",{class:"text-sm font-medium"},"Limite de requêtes (par minute)",-1)),A(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>b.rate_limit=t),type:"number",min:"1",max:"10000",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[N,b.rate_limit,void 0,{number:!0}]])]),e("div",Rs,[e("button",{type:"button",onClick:s[8]||(s[8]=t=>C.value=!1),class:"flex-1 h-10 px-4 rounded-md border hover:bg-accent"}," Annuler "),e("button",{type:"submit",disabled:p.value,class:"flex-1 h-10 px-4 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50"},m(p.value?"Création...":"Créer la clé"),9,Bs)])],32)])])):l("",!0),D.value?(o(),i("div",zs,[e("div",Js,[e("div",Fs,[e("div",Ws,[h(g(he),{class:"w-8 h-8 text-green-600 dark:text-green-400"})]),s[29]||(s[29]=e("h2",{class:"text-xl font-bold"},"Clé API créée",-1)),s[30]||(s[30]=e("p",{class:"text-sm text-muted-foreground mt-2"},"Copiez cette clé maintenant, elle ne sera plus affichée en entier.",-1))]),e("div",Hs,[e("code",Zs,m(O.value),1)]),e("div",Ys,[e("button",{onClick:s[10]||(s[10]=t=>{z(O.value),D.value=!1}),class:"flex-1 h-10 px-4 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 flex items-center justify-center gap-2"},[h(g(j),{class:"w-4 h-4"}),s[31]||(s[31]=G(" Copier et fermer ",-1))])])])])):l("",!0)]),_:1}))}});export{rt as default};
