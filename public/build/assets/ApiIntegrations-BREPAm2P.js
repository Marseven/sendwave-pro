import{e as a,_ as k}from"./api-BdomKYOb.js";import{s as _,a as p}from"./notifications-CHQAjgV4.js";import{r as h}from"./KeyIcon-DDWUxDIt.js";import{r as w}from"./BookOpenIcon-pj4OKJg2.js";import{d as A,r as m,l as C,m as I,n as P,o as i,b as e,p as f,q as v,c as l,x as $,t as d,F as q,g as B}from"./main-QOMeYZLg.js";const g={async getAll(){const s=await a.get("/api-keys");return s.data.data||s.data},async getById(s){const n=await a.get(`/api-keys/${s}`);return n.data.data||n.data},async create(s){const n=await a.post("/api-keys",s);return n.data.data||n.data},async revoke(s){await a.post(`/api-keys/${s}/revoke`)},async delete(s){await a.delete(`/api-keys/${s}`)}},S={class:"p-8"},j={class:"mb-8 flex items-center justify-between"},N={class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"},V={class:"max-w-3xl space-y-6"},E={class:"rounded-lg border bg-card p-6"},R={class:"space-y-3"},z={class:"font-medium"},D={class:"text-sm text-muted-foreground font-mono"},F={class:"text-xs text-muted-foreground mt-1"},M={class:"flex gap-2"},T=["onClick","disabled"],J=["onClick","disabled"],L={key:0,class:"text-center text-muted-foreground py-8"},O={class:"rounded-lg border bg-card p-6"},G={class:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3"},Y=A({__name:"ApiIntegrations",setup(s){const n=m([]),c=m(!1);async function u(){c.value=!0;try{n.value=await g.getAll()}catch(r){console.error("Error loading API keys:",r)}finally{c.value=!1}}async function b(r){if(await _("Révoquer la clé API ?","Êtes-vous sûr de vouloir révoquer cette clé API ?"))try{await g.revoke(r),p("Clé API révoquée avec succès"),await u()}catch(o){console.error("Error revoking API key:",o)}}function y(r){navigator.clipboard.writeText(r),p("Clé copiée dans le presse-papier")}return C(()=>{u()}),(r,t)=>(i(),I(k,null,{default:P(()=>[e("div",S,[e("div",j,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"Intégrations API"),e("p",{class:"text-muted-foreground mt-2"},"Configurez vos clés API et webhooks")],-1)),e("button",N,[f(v(h),{class:"w-4 h-4"}),t[0]||(t[0]=e("span",null,"Nouvelle clé API",-1))])]),e("div",V,[e("div",E,[t[2]||(t[2]=e("h3",{class:"font-semibold mb-4"},"Clés API actives",-1)),e("div",R,[(i(!0),l(q,null,$(n.value,o=>(i(),l("div",{key:o.id,class:"flex items-center justify-between p-4 bg-muted/50 rounded-lg"},[e("div",null,[e("div",z,d(o.name),1),e("div",D,d(o.key),1),e("div",F,d(o.type==="production"?"Production":"Test")+" "+d(o.status==="revoked"?"(Révoquée)":""),1)]),e("div",M,[e("button",{onClick:x=>y(o.key),class:"text-sm px-3 py-1 rounded border hover:bg-accent",disabled:o.status==="revoked"}," Copier ",8,T),e("button",{onClick:x=>b(o.id),class:"text-sm px-3 py-1 rounded border hover:bg-destructive/10 text-destructive",disabled:o.status==="revoked"}," Révoquer ",8,J)])]))),128)),n.value.length===0?(i(),l("div",L," Aucune clé API active ")):B("",!0)])]),e("div",O,[t[4]||(t[4]=e("h3",{class:"font-semibold mb-4"},"Documentation",-1)),t[5]||(t[5]=e("p",{class:"text-sm text-muted-foreground mb-4"},"Consultez notre documentation pour intégrer l'API JOBS SMS dans vos applications.",-1)),e("button",G,[f(v(w),{class:"w-4 h-4"}),t[3]||(t[3]=e("span",null,"Voir la documentation",-1))])])])])]),_:1}))}});export{Y as default};
