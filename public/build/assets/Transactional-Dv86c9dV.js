import{d as ce,r as p,m as me,n as pe,p as F,j as fe,E as ve,o as i,b as e,x as l,y as a,i as x,c as u,F as N,q as U,t as r,s as D,g as f,f as h,D as B,v as R,C as L}from"./main-D64ZRLSk.js";import{_ as ge,f as y,l as G,g as be,o as O,p as J}from"./api-Bu0S3geY.js";import{_ as xe}from"./TabNav.vue_vue_type_script_setup_true_lang-JoSOa3iu.js";import{a as g,b as $,s as M}from"./notifications-CHQAjgV4.js";import{a as ye,r as he}from"./CogIcon-DBnhH8Mv.js";import{r as H}from"./PencilIcon-ah_95y1d.js";import{r as A}from"./TrashIcon-BiZEmBGU.js";import{r as _e}from"./IdentificationIcon-Dh1jKuvw.js";import{r as we}from"./InformationCircleIcon-DJrYp5rz.js";import{r as ke}from"./ArrowPathIcon-xYySSVFm.js";import{r as W}from"./CheckCircleIcon-12C3S8cI.js";const Ce={class:"p-6 lg:p-8"},Se={class:"mb-6"},$e={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Te={class:"text-2xl font-bold flex items-center gap-2"},je={key:0,class:"space-y-6"},De={class:"flex items-center justify-between"},Me={class:"rounded-lg border bg-card"},Ae={class:"w-full"},Ie={class:"p-4"},Ve={class:"font-medium"},Ee={class:"p-4"},Fe={class:"p-4"},Ne={class:"p-4 text-sm text-muted-foreground"},Ue={class:"p-4 text-right"},Be=["onClick"],Re=["onClick"],qe={key:0},Pe={colspan:"5",class:"p-8 text-center text-muted-foreground"},ze={key:1,class:"space-y-6"},Le={class:"flex items-center justify-between"},Ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Oe={class:"flex items-start justify-between mb-3"},Je={class:"font-semibold"},He={class:"text-xs text-muted-foreground"},We={class:"flex gap-1"},Ke=["onClick"],Qe=["onClick"],Xe={class:"text-sm text-muted-foreground line-clamp-3 mb-3"},Ye={class:"flex items-center justify-between text-xs"},Ze={class:"text-muted-foreground"},et=["onClick"],tt={key:0,class:"col-span-full p-8 text-center text-muted-foreground border rounded-lg"},st={key:2,class:"space-y-6"},ot={class:"flex items-center justify-between"},nt={class:"rounded-lg border bg-card"},lt={class:"w-full"},rt={class:"p-4 font-medium"},at={class:"p-4 text-sm text-muted-foreground max-w-xs truncate"},it={class:"p-4 text-sm"},dt={class:"p-4 text-sm text-muted-foreground"},ut={class:"p-4 text-right"},ct=["onClick"],mt=["onClick"],pt={key:0},ft={colspan:"5",class:"p-8 text-center text-muted-foreground"},vt={key:3,class:"space-y-6"},gt={class:"flex items-center justify-between"},bt={class:"flex items-center gap-2 text-sm text-muted-foreground"},xt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},yt={class:"rounded-lg border bg-card p-6"},ht={class:"flex items-center justify-between mb-4"},_t={class:"flex items-center gap-3"},wt={class:"w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center"},kt={class:"relative inline-flex items-center cursor-pointer"},Ct={class:"space-y-3 text-sm"},St={class:"flex justify-between"},$t={class:"font-medium"},Tt={class:"flex justify-between"},jt={class:"rounded-lg border bg-card p-6"},Dt={class:"flex items-center justify-between mb-4"},Mt={class:"flex items-center gap-3"},At={class:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center"},It={class:"relative inline-flex items-center cursor-pointer"},Vt={class:"space-y-3 text-sm"},Et={class:"flex justify-between"},Ft={class:"font-medium"},Nt={class:"flex justify-between"},Ut={class:"rounded-lg border bg-card p-6"},Bt={class:"flex items-center gap-3 mb-4"},Rt={class:"flex items-center gap-4"},qt={class:"flex items-center gap-3 cursor-pointer"},Pt={key:0,class:"mt-4 p-3 bg-muted/50 rounded-lg text-sm"},zt={class:"flex items-center gap-2"},Lt={class:"flex items-center gap-2 mt-1"},Gt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Ot={class:"relative bg-card rounded-lg shadow-lg w-full max-w-md p-6 m-4"},Jt={class:"text-lg font-semibold mb-4"},Ht={class:"space-y-4"},Wt={class:"space-y-2"},Kt={class:"space-y-2"},Qt={class:"flex gap-3 mt-6"},Xt=["disabled"],Yt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},Zt={class:"relative bg-card rounded-lg shadow-lg w-full max-w-lg p-6 m-4"},es={class:"text-lg font-semibold mb-4"},ts={class:"space-y-4"},ss={class:"space-y-2"},os={class:"space-y-2"},ns={class:"space-y-2"},ls={class:"flex items-center justify-between"},rs={class:"text-xs text-muted-foreground"},as={class:"flex gap-3 mt-6"},is=["disabled"],_s=ce({__name:"Transactional",setup(ds){const q=fe(),K=[{id:"senderid",label:"Sender Id"},{id:"templates",label:"Templates"},{id:"drafts",label:"Drafts"},{id:"routes",label:"Routes"}],k=p("senderid"),b=p([]),C=p(!1),_=p(null),v=p({name:"",type:"transactional"}),I=p([]),S=p(!1),w=p(null),c=p({name:"",content:"",category:""}),T=p([]),d=p({airtel:{enabled:!0,cost:20},moov:{enabled:!1,cost:20}}),j=p(!0);async function Q(){b.value=[{id:1,name:"JOBSSMS",type:"transactional",status:"approved",created_at:"2026-01-15"},{id:2,name:"SendWave",type:"transactional",status:"approved",created_at:"2026-01-10"}]}async function V(){try{const o=await y.get("/templates");I.value=o.data.data||o.data||[]}catch(o){console.error("Error loading templates:",o)}}async function E(){try{const o=await y.get("/templates");T.value=(o.data.data||o.data||[]).filter(t=>t.name.toLowerCase().includes("brouillon")).map(t=>({...t,recipients_count:0}))}catch(o){console.error("Error loading drafts:",o)}}async function X(){try{const o=await y.get("/sms-configs"),t=o.data.data||o.data||[],n=t.find(m=>m.provider==="airtel"),s=t.find(m=>m.provider==="moov");n&&(d.value.airtel.enabled=n.is_active,d.value.airtel.cost=n.cost_per_sms||20),s&&(d.value.moov.enabled=s.is_active,d.value.moov.cost=s.cost_per_sms||20)}catch(o){console.error("Error loading routes:",o)}}function Y(o){_.value=o,v.value={name:o.name,type:o.type},C.value=!0}async function Z(){var o,t;if(v.value.name)try{if(_.value){const n=b.value.findIndex(s=>s.id===_.value.id);n!==-1&&(b.value[n]={...b.value[n],...v.value}),g("Sender ID modifie")}else b.value.push({id:Date.now(),...v.value,status:"pending",created_at:new Date().toISOString()}),g("Sender ID cree");C.value=!1,_.value=null,v.value={name:"",type:"transactional"}}catch(n){$(((t=(o=n.response)==null?void 0:o.data)==null?void 0:t.message)||"Erreur")}}async function ee(o){await M("Supprimer ce Sender ID ?",`${o.name} sera supprime definitivement.`)&&(b.value=b.value.filter(n=>n.id!==o.id),g("Sender ID supprime"))}function te(o){w.value=o,c.value={name:o.name,content:o.content,category:o.category||""},S.value=!0}async function se(){var o,t;if(!(!c.value.name||!c.value.content))try{w.value?(await y.put(`/templates/${w.value.id}`,c.value),g("Template modifie")):(await y.post("/templates",c.value),g("Template cree")),S.value=!1,w.value=null,c.value={name:"",content:"",category:""},V()}catch(n){$(((t=(o=n.response)==null?void 0:o.data)==null?void 0:t.message)||"Erreur")}}async function oe(o){var n,s;if(await M("Supprimer ce template ?",`"${o.name}" sera supprime definitivement.`))try{await y.delete(`/templates/${o.id}`),g("Template supprime"),V()}catch(m){$(((s=(n=m.response)==null?void 0:n.data)==null?void 0:s.message)||"Erreur")}}function ne(o){q.push({path:"/send-sms",query:{template:o.id.toString()}})}function le(o){q.push({path:"/send-sms",query:{draft:o.id.toString()}})}async function re(o){var n,s;if(await M("Supprimer ce brouillon ?","Cette action est irreversible."))try{await y.delete(`/templates/${o.id}`),g("Brouillon supprime"),E()}catch(m){$(((s=(n=m.response)==null?void 0:n.data)==null?void 0:s.message)||"Erreur")}}async function ae(){var t,n;if(await M("Supprimer tous les brouillons ?","Cette action est irreversible."))try{for(const s of T.value)await y.delete(`/templates/${s.id}`);g("Brouillons supprimes"),E()}catch(s){$(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Erreur")}}async function P(o){var t,n;try{await y.post(`/sms-configs/${o}/toggle`),g(`Route ${o} ${d.value[o].enabled?"activee":"desactivee"}`)}catch(s){d.value[o].enabled=!d.value[o].enabled,$(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Erreur")}}async function ie(){g(`Fallback ${j.value?"active":"desactive"}`)}function de(o){switch(o){case"approved":return"bg-success/10 text-success";case"pending":return"bg-warning/10 text-warning";case"rejected":return"bg-destructive/10 text-destructive";default:return"bg-muted text-muted-foreground"}}function ue(o){switch(o){case"approved":return"Approuve";case"pending":return"En attente";case"rejected":return"Rejete";default:return o}}function z(o){return new Date(o).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})}return me(()=>{Q(),V(),E(),X()}),(o,t)=>{const n=ve("router-link");return i(),pe(ge,null,{default:F(()=>[e("div",Ce,[e("div",Se,[e("div",$e,[e("div",null,[e("h1",Te,[l(a(ye),{class:"w-7 h-7 text-primary"}),t[17]||(t[17]=x(" Transactionnel ",-1))]),t[18]||(t[18]=e("p",{class:"text-muted-foreground mt-1"},"Gerez vos Sender IDs, templates, brouillons et routes",-1))])])]),l(xe,{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=s=>k.value=s),tabs:K,class:"mb-6"},null,8,["modelValue"]),k.value==="senderid"?(i(),u("div",je,[e("div",De,[t[20]||(t[20]=e("h2",{class:"text-lg font-semibold"},"Sender IDs",-1)),e("button",{onClick:t[1]||(t[1]=s=>C.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90"},[l(a(G),{class:"w-4 h-4"}),t[19]||(t[19]=x(" Nouveau Sender ID ",-1))])]),e("div",Me,[e("table",Ae,[t[22]||(t[22]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"text-left p-4 font-medium text-sm"},"Sender ID"),e("th",{class:"text-left p-4 font-medium text-sm"},"Type"),e("th",{class:"text-left p-4 font-medium text-sm"},"Statut"),e("th",{class:"text-left p-4 font-medium text-sm"},"Date creation"),e("th",{class:"text-right p-4 font-medium text-sm"},"Actions")])],-1)),e("tbody",null,[(i(!0),u(N,null,U(b.value,s=>(i(),u("tr",{key:s.id,class:"border-b last:border-0 hover:bg-muted/30"},[e("td",Ie,[e("span",Ve,r(s.name),1)]),e("td",Ee,[e("span",{class:D(["px-2 py-1 text-xs rounded-full",s.type==="transactional"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"])},r(s.type==="transactional"?"Transactionnel":"Marketing"),3)]),e("td",Fe,[e("span",{class:D(["px-2 py-1 text-xs rounded-full",de(s.status)])},r(ue(s.status)),3)]),e("td",Ne,r(z(s.created_at)),1),e("td",Ue,[e("button",{onClick:m=>Y(s),class:"p-2 hover:bg-accent rounded-lg"},[l(a(H),{class:"w-4 h-4"})],8,Be),e("button",{onClick:m=>ee(s),class:"p-2 hover:bg-destructive/10 text-destructive rounded-lg"},[l(a(A),{class:"w-4 h-4"})],8,Re)])]))),128)),b.value.length===0?(i(),u("tr",qe,[e("td",Pe,[l(a(_e),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[21]||(t[21]=e("p",null,"Aucun Sender ID configure",-1))])])):f("",!0)])])])])):f("",!0),k.value==="templates"?(i(),u("div",ze,[e("div",Le,[t[24]||(t[24]=e("h2",{class:"text-lg font-semibold"},"Templates de messages",-1)),e("button",{onClick:t[2]||(t[2]=s=>S.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90"},[l(a(G),{class:"w-4 h-4"}),t[23]||(t[23]=x(" Nouveau Template ",-1))])]),e("div",Ge,[(i(!0),u(N,null,U(I.value,s=>(i(),u("div",{key:s.id,class:"rounded-lg border bg-card p-4 hover:shadow-md transition-shadow"},[e("div",Oe,[e("div",null,[e("h3",Je,r(s.name),1),e("span",He,r(s.category||"General"),1)]),e("div",We,[e("button",{onClick:m=>te(s),class:"p-1.5 hover:bg-accent rounded"},[l(a(H),{class:"w-4 h-4"})],8,Ke),e("button",{onClick:m=>oe(s),class:"p-1.5 hover:bg-destructive/10 text-destructive rounded"},[l(a(A),{class:"w-4 h-4"})],8,Qe)])]),e("p",Xe,r(s.content),1),e("div",Ye,[e("span",Ze,r(s.content.length)+" caracteres",1),e("button",{onClick:m=>ne(s),class:"text-primary hover:underline font-medium"}," Utiliser ",8,et)])]))),128)),I.value.length===0?(i(),u("div",tt,[l(a(be),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[25]||(t[25]=e("p",null,"Aucun template disponible",-1))])):f("",!0)])])):f("",!0),k.value==="drafts"?(i(),u("div",st,[e("div",ot,[t[27]||(t[27]=e("h2",{class:"text-lg font-semibold"},"Brouillons",-1)),T.value.length>0?(i(),u("button",{key:0,onClick:ae,class:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-accent"},[l(a(A),{class:"w-4 h-4"}),t[26]||(t[26]=x(" Tout supprimer ",-1))])):f("",!0)]),e("div",nt,[e("table",lt,[t[29]||(t[29]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"text-left p-4 font-medium text-sm"},"Nom"),e("th",{class:"text-left p-4 font-medium text-sm"},"Apercu"),e("th",{class:"text-left p-4 font-medium text-sm"},"Destinataires"),e("th",{class:"text-left p-4 font-medium text-sm"},"Sauvegarde le"),e("th",{class:"text-right p-4 font-medium text-sm"},"Actions")])],-1)),e("tbody",null,[(i(!0),u(N,null,U(T.value,s=>(i(),u("tr",{key:s.id,class:"border-b last:border-0 hover:bg-muted/30"},[e("td",rt,r(s.name),1),e("td",at,r(s.content),1),e("td",it,r(s.recipients_count||0)+" contact(s)",1),e("td",dt,r(z(s.created_at)),1),e("td",ut,[e("button",{onClick:m=>le(s),class:"px-3 py-1.5 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90 mr-2"}," Charger ",8,ct),e("button",{onClick:m=>re(s),class:"p-2 hover:bg-destructive/10 text-destructive rounded-lg"},[l(a(A),{class:"w-4 h-4"})],8,mt)])]))),128)),T.value.length===0?(i(),u("tr",pt,[e("td",ft,[l(a(he),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[28]||(t[28]=e("p",null,"Aucun brouillon sauvegarde",-1))])])):f("",!0)])])])])):f("",!0),k.value==="routes"?(i(),u("div",vt,[e("div",gt,[t[31]||(t[31]=e("h2",{class:"text-lg font-semibold"},"Routes SMS",-1)),e("div",bt,[l(a(we),{class:"w-4 h-4"}),t[30]||(t[30]=x(" Configuration des passerelles disponibles ",-1))])]),e("div",xt,[e("div",yt,[e("div",ht,[e("div",_t,[e("div",wt,[l(a(O),{class:"w-6 h-6 text-red-600"})]),t[32]||(t[32]=e("div",null,[e("h3",{class:"font-semibold"},"Airtel Gabon"),e("p",{class:"text-sm text-muted-foreground"},"API HTTP directe")],-1))]),e("label",kt,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=s=>d.value.airtel.enabled=s),onChange:t[4]||(t[4]=s=>P("airtel")),class:"sr-only peer"},null,544),[[B,d.value.airtel.enabled]]),t[33]||(t[33]=e("div",{class:"w-11 h-6 bg-muted peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"},null,-1))])]),e("div",Ct,[t[36]||(t[36]=e("div",{class:"flex justify-between"},[e("span",{class:"text-muted-foreground"},"Prefixes"),e("span",{class:"font-medium"},"77, 74, 76")],-1)),e("div",St,[t[34]||(t[34]=e("span",{class:"text-muted-foreground"},"Cout/SMS",-1)),e("span",$t,r(d.value.airtel.cost)+" FCFA",1)]),e("div",Tt,[t[35]||(t[35]=e("span",{class:"text-muted-foreground"},"Statut",-1)),e("span",{class:D(d.value.airtel.enabled?"text-success":"text-muted-foreground")},r(d.value.airtel.enabled?"Actif":"Inactif"),3)])]),l(n,{to:"/sms-config",class:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-accent"},{default:F(()=>[l(a(J),{class:"w-4 h-4"}),t[37]||(t[37]=x(" Configurer ",-1))]),_:1})]),e("div",jt,[e("div",Dt,[e("div",Mt,[e("div",At,[l(a(O),{class:"w-6 h-6 text-blue-600"})]),t[38]||(t[38]=e("div",null,[e("h3",{class:"font-semibold"},"Moov Gabon"),e("p",{class:"text-sm text-muted-foreground"},"Protocole SMPP")],-1))]),e("label",It,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>d.value.moov.enabled=s),onChange:t[6]||(t[6]=s=>P("moov")),class:"sr-only peer"},null,544),[[B,d.value.moov.enabled]]),t[39]||(t[39]=e("div",{class:"w-11 h-6 bg-muted peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"},null,-1))])]),e("div",Vt,[t[42]||(t[42]=e("div",{class:"flex justify-between"},[e("span",{class:"text-muted-foreground"},"Prefixes"),e("span",{class:"font-medium"},"60, 62, 65, 66")],-1)),e("div",Et,[t[40]||(t[40]=e("span",{class:"text-muted-foreground"},"Cout/SMS",-1)),e("span",Ft,r(d.value.moov.cost)+" FCFA",1)]),e("div",Nt,[t[41]||(t[41]=e("span",{class:"text-muted-foreground"},"Statut",-1)),e("span",{class:D(d.value.moov.enabled?"text-success":"text-muted-foreground")},r(d.value.moov.enabled?"Actif":"Inactif"),3)])]),l(n,{to:"/sms-config",class:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-accent"},{default:F(()=>[l(a(J),{class:"w-4 h-4"}),t[43]||(t[43]=x(" Configurer ",-1))]),_:1})])]),e("div",Ut,[e("div",Bt,[l(a(ke),{class:"w-5 h-5 text-primary"}),t[44]||(t[44]=e("h3",{class:"font-semibold"},"Configuration Fallback",-1))]),t[48]||(t[48]=e("p",{class:"text-sm text-muted-foreground mb-4"}," Lorsque le fallback est active, si l'operateur principal echoue, le systeme bascule automatiquement vers l'operateur de secours. ",-1)),e("div",Rt,[e("label",qt,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>j.value=s),onChange:ie,class:"w-4 h-4 rounded border-input"},null,544),[[B,j.value]]),t[45]||(t[45]=e("span",{class:"text-sm font-medium"},"Activer le fallback automatique",-1))])]),j.value?(i(),u("div",Pt,[e("p",zt,[l(a(W),{class:"w-4 h-4 text-success"}),t[46]||(t[46]=x(" Airtel → Moov (si Airtel echoue) ",-1))]),e("p",Lt,[l(a(W),{class:"w-4 h-4 text-success"}),t[47]||(t[47]=x(" Moov → Airtel (si Moov echoue) ",-1))])])):f("",!0)])])):f("",!0)]),C.value?(i(),u("div",Gt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[8]||(t[8]=s=>C.value=!1)}),e("div",Ot,[e("h3",Jt,r(_.value?"Modifier":"Nouveau")+" Sender ID",1),e("div",Ht,[e("div",Wt,[t[49]||(t[49]=e("label",{class:"text-sm font-medium"},"Nom du Sender ID",-1)),h(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>v.value.name=s),type:"text",placeholder:"Ex: JOBSSMS",maxlength:"11",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[R,v.value.name]]),t[50]||(t[50]=e("p",{class:"text-xs text-muted-foreground"},"Maximum 11 caracteres alphanumeriques",-1))]),e("div",Kt,[t[52]||(t[52]=e("label",{class:"text-sm font-medium"},"Type",-1)),h(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>v.value.type=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...t[51]||(t[51]=[e("option",{value:"transactional"},"Transactionnel",-1),e("option",{value:"marketing"},"Marketing",-1)])],512),[[L,v.value.type]])])]),e("div",Qt,[e("button",{onClick:Z,disabled:!v.value.name,class:"flex-1 h-10 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50"},r(_.value?"Modifier":"Creer"),9,Xt),e("button",{onClick:t[11]||(t[11]=s=>{C.value=!1,_.value=null}),class:"px-4 h-10 border rounded-lg hover:bg-accent"}," Annuler ")])])])):f("",!0),S.value?(i(),u("div",Yt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[12]||(t[12]=s=>S.value=!1)}),e("div",Zt,[e("h3",es,r(w.value?"Modifier":"Nouveau")+" Template",1),e("div",ts,[e("div",ss,[t[53]||(t[53]=e("label",{class:"text-sm font-medium"},"Nom du template",-1)),h(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>c.value.name=s),type:"text",placeholder:"Ex: Confirmation commande",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[R,c.value.name]])]),e("div",os,[t[55]||(t[55]=e("label",{class:"text-sm font-medium"},"Categorie",-1)),h(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>c.value.category=s),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...t[54]||(t[54]=[e("option",{value:""},"-- Selectionner --",-1),e("option",{value:"notification"},"Notification",-1),e("option",{value:"marketing"},"Marketing",-1),e("option",{value:"verification"},"Verification",-1),e("option",{value:"reminder"},"Rappel",-1)])],512),[[L,c.value.category]])]),e("div",ns,[e("div",ls,[t[56]||(t[56]=e("label",{class:"text-sm font-medium"},"Contenu",-1)),e("span",rs,r(c.value.content.length)+"/480",1)]),h(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=s=>c.value.content=s),placeholder:"Tapez votre message... Variables: {name}, {phone}, {code}",rows:"5",maxlength:"480",class:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm resize-none"},null,512),[[R,c.value.content]])])]),e("div",as,[e("button",{onClick:se,disabled:!c.value.name||!c.value.content,class:"flex-1 h-10 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50"},r(w.value?"Modifier":"Creer"),9,is),e("button",{onClick:t[16]||(t[16]=s=>{S.value=!1,w.value=null}),class:"px-4 h-10 border rounded-lg hover:bg-accent"}," Annuler ")])])])):f("",!0)]),_:1})}}});export{_s as default};
