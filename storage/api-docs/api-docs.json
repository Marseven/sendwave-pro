{
    "openapi": "3.0.0",
    "info": {
        "title": "SendWave Pro API",
        "description": "Plateforme d'envoi de SMS pour le marché gabonais (Airtel/Moov). Utilisez votre clé API (header X-API-Key) ou un Bearer token pour accéder aux endpoints.",
        "contact": {
            "name": "SendWave Pro Support",
            "email": "support@sendwave-pro.com"
        },
        "license": {
            "name": "Proprietary",
            "url": "https://sendwave-pro.com/license"
        },
        "version": "2.1"
    },
    "servers": [
        {
            "url": "http://161.35.159.160",
            "description": "Production Server"
        }
    ],
    "paths": {
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login user",
                "description": "Authenticate user and return access token",
                "operationId": "dd51a484b7fa0f97c7680fdbde14cf5f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@sendwave.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abcdefghijklmnopqrstuvwxyz"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "admin@sendwave.com"
                                                },
                                                "role": {
                                                    "type": "string",
                                                    "example": "admin"
                                                },
                                                "permissions": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Les identifiants fournis sont incorrects."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register new user",
                "description": "Create a new user account and return access token",
                "operationId": "c7bb21a0d87049e161b8e4c9b0d909f2",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user",
                "description": "Revoke current access token",
                "operationId": "df9bdc6c7a6d9f20b983526b2ec0f698",
                "responses": {
                    "200": {
                        "description": "Logout successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Déconnexion réussie"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get current user",
                "description": "Get authenticated user information with permissions",
                "operationId": "b5de204f5e452ef51327c691aa99e77c",
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "John Doe"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "john@example.com"
                                        },
                                        "role": {
                                            "type": "string",
                                            "example": "admin"
                                        },
                                        "permissions": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/auth/permissions": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get user permissions",
                "description": "Get current user's permissions and role info",
                "operationId": "1f3e071d9c670a2e6dd4a82a07cd1d7d",
                "responses": {
                    "200": {
                        "description": "User permissions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "role": {
                                            "type": "string",
                                            "example": "admin"
                                        },
                                        "role_label": {
                                            "type": "string",
                                            "example": "Administrateur"
                                        },
                                        "permissions": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "is_super_admin": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "is_admin": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/auth/available-permissions": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get all available permissions",
                "description": "Get list of all permissions grouped by category",
                "operationId": "801d62f9b177e16abdf3a6e486486195",
                "responses": {
                    "200": {
                        "description": "Available permissions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "permissions": {
                                            "type": "object"
                                        },
                                        "roles": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/contacts": {
            "get": {
                "tags": [
                    "Contacts"
                ],
                "summary": "List all contacts",
                "description": "Retrieve contacts for the authenticated user with search, filters and pagination",
                "operationId": "bc39494d59500e2d75e6f6648b43c8de",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search by name, email or phone",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "group_id",
                        "in": "query",
                        "description": "Filter by contact group ID",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status (active, inactive)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "active",
                                "inactive"
                            ]
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Results per page (default 15, max 100)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of contacts",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "John Doe"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "john@example.com"
                                                    },
                                                    "phone": {
                                                        "type": "string",
                                                        "example": "+24177123456"
                                                    },
                                                    "group": {
                                                        "type": "string",
                                                        "example": "VIP"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "active"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 42
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Create a new contact",
                "description": "Store a newly created contact",
                "operationId": "779a1f2268bae1138e7ea7843dd88d90",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "phone"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+24177123456"
                                    },
                                    "group": {
                                        "type": "string",
                                        "example": "VIP"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive"
                                        ],
                                        "example": "active"
                                    },
                                    "last_connection": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "custom_fields": {
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Contact created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/contacts/{id}": {
            "get": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Get a specific contact",
                "description": "Retrieve a single contact by ID",
                "operationId": "2a2c193f37e667891b7a6bc95e8e4132",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Contact ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contact details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "404": {
                        "description": "Contact not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Update a contact",
                "description": "Update an existing contact by ID",
                "operationId": "45636eb97c78bd0e474d5507fde18f1a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Contact ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+24177123456"
                                    },
                                    "group": {
                                        "type": "string",
                                        "example": "VIP"
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive"
                                        ]
                                    },
                                    "last_connection": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "custom_fields": {
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contact updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "404": {
                        "description": "Contact not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Delete a contact",
                "description": "Remove a contact by ID",
                "operationId": "a4fa6d0e82512d1fac868a7b61e6a2e7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Contact ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contact deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Contact supprime avec succes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "404": {
                        "description": "Contact not found"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/contacts/delete-many": {
            "post": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Delete multiple contacts",
                "description": "Supprime plusieurs contacts en une seule requête",
                "operationId": "4ee49c257e6b83e14b41455e3550b93f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "ids"
                                ],
                                "properties": {
                                    "ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            2,
                                            3
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Contacts deleted",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "3 contacts supprimés"
                                        },
                                        "deleted_count": {
                                            "type": "integer",
                                            "example": 3
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/contacts/export": {
            "get": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Export contacts",
                "description": "Export contacts to CSV or JSON format",
                "operationId": "05239cf0d5b80d80c3bb38ea5175309f",
                "parameters": [
                    {
                        "name": "format",
                        "in": "query",
                        "description": "Export format (csv or json)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "csv",
                            "enum": [
                                "csv",
                                "json"
                            ]
                        }
                    },
                    {
                        "name": "group",
                        "in": "query",
                        "description": "Filter by group",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "active",
                                "inactive"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contacts exported successfully"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/contacts/import": {
            "post": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Import contacts from file",
                "description": "Import contacts from CSV, XLSX, or XLS file (max 20MB)",
                "operationId": "5c63fb5574f3deb6643491c0f877738a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "description": "CSV, XLSX, or XLS file",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "duplicate_action": {
                                        "description": "Action for duplicates",
                                        "type": "string",
                                        "enum": [
                                            "skip",
                                            "update",
                                            "create"
                                        ]
                                    },
                                    "column_mapping": {
                                        "description": "Column mapping configuration",
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Import completed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "10 contacts importes"
                                        },
                                        "imported": {
                                            "type": "integer",
                                            "example": 10
                                        },
                                        "updated": {
                                            "type": "integer",
                                            "example": 2
                                        },
                                        "skipped": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "total_errors": {
                                            "type": "integer",
                                            "example": 0
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Import error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/contacts/preview-import": {
            "post": {
                "tags": [
                    "Contacts"
                ],
                "summary": "Preview import file",
                "description": "Preview headers and sample data from an import file before importing",
                "operationId": "a4df0255676b39f0106b625e686e5519",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "description": "CSV, XLSX, or XLS file",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Preview data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "headers": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "preview": {
                                            "type": "array",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "suggested_mapping": {
                                            "type": "object"
                                        },
                                        "total_rows": {
                                            "type": "integer",
                                            "example": 100
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Empty file"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "File reading error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/messages/send": {
            "post": {
                "tags": [
                    "Messages"
                ],
                "summary": "Send SMS message(s)",
                "description": "Envoyer un ou plusieurs messages SMS avec routage automatique par opérateur. Les numéros blacklistés sont automatiquement filtrés.",
                "operationId": "e5be4bea5955d333172189637ca47fea",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "message"
                                ],
                                "properties": {
                                    "recipients": {
                                        "description": "Numéros de téléphone",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "77123456",
                                            "60123456"
                                        ]
                                    },
                                    "contact_ids": {
                                        "description": "IDs de contacts existants",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1,
                                            2,
                                            3
                                        ]
                                    },
                                    "group_ids": {
                                        "description": "IDs de groupes de contacts",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "example": [
                                            1
                                        ]
                                    },
                                    "message": {
                                        "type": "string",
                                        "maxLength": 320,
                                        "example": "Bonjour, ceci est un message de test."
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "immediate",
                                            "scheduled"
                                        ],
                                        "example": "immediate"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Message(s) envoyé(s) avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Message envoyé avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "message_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "provider": {
                                                    "type": "string",
                                                    "example": "airtel"
                                                },
                                                "phone": {
                                                    "type": "string",
                                                    "example": "24177123456"
                                                },
                                                "sms_count": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "cost": {
                                                    "type": "integer",
                                                    "example": 20
                                                },
                                                "blacklisted_skipped": {
                                                    "type": "integer",
                                                    "example": 0
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Échec de l'envoi ou aucun destinataire valide",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Aucun destinataire valide"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Tous les destinataires sont dans la liste noire"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Budget dépassé ou crédits insuffisants",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Budget dépassé"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Budget mensuel dépassé. Envoi bloqué."
                                        },
                                        "error_code": {
                                            "type": "string",
                                            "example": "BUDGET_EXCEEDED"
                                        },
                                        "budget_info": {
                                            "properties": {
                                                "remaining": {
                                                    "type": "number",
                                                    "example": 500
                                                },
                                                "estimated_cost": {
                                                    "type": "number",
                                                    "example": 2000
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de l'envoi du message"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/messages/send-otp": {
            "post": {
                "tags": [
                    "Messages"
                ],
                "summary": "Send OTP SMS",
                "description": "Envoyer un SMS OTP à un seul destinataire. Endpoint simplifié pour l'envoi de codes de vérification.",
                "operationId": "5911a78287f664624d1928bda8af9ab1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "recipient",
                                    "message"
                                ],
                                "properties": {
                                    "recipient": {
                                        "description": "Numéro de téléphone du destinataire",
                                        "type": "string",
                                        "example": "+24177123456"
                                    },
                                    "message": {
                                        "description": "Contenu du SMS (1 segment max)",
                                        "type": "string",
                                        "maxLength": 160,
                                        "example": "Votre code de vérification est : 4829"
                                    },
                                    "reference": {
                                        "description": "Référence externe pour traçabilité",
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "otp-login-12345",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP envoyé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "message_id": {
                                                    "type": "integer",
                                                    "example": 42
                                                },
                                                "recipient": {
                                                    "type": "string",
                                                    "example": "+24177123456"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "sent"
                                                },
                                                "provider": {
                                                    "type": "string",
                                                    "example": "airtel"
                                                },
                                                "cost": {
                                                    "type": "integer",
                                                    "example": 20
                                                },
                                                "reference": {
                                                    "type": "string",
                                                    "example": "otp-login-12345"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Numéro blacklisté ou envoi échoué",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "BLACKLISTED"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ce numéro est dans la liste noire."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Budget dépassé ou crédits insuffisants",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "BUDGET_EXCEEDED"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Budget mensuel dépassé. Envoi bloqué."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Erreur serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "SERVER_ERROR"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de l'envoi du SMS."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/messages/analyze": {
            "post": {
                "tags": [
                    "Messages"
                ],
                "summary": "Analyze phone numbers",
                "description": "Analyser des numéros de téléphone pour déterminer l'opérateur et la validité",
                "operationId": "a20fdc54964cf3121238b2f753eb27b0",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "phone_numbers"
                                ],
                                "properties": {
                                    "phone_numbers": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "77123456",
                                            "60123456",
                                            "invalid"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Analyse effectuée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Analyse effectuée"
                                        },
                                        "data": {
                                            "properties": {
                                                "airtel_count": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "moov_count": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "unknown_count": {
                                                    "type": "integer",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        },
        "/api/messages/number-info": {
            "post": {
                "tags": [
                    "Messages"
                ],
                "summary": "Get phone number info",
                "description": "Obtenir les informations d'un numéro de téléphone (opérateur, pays, validité)",
                "operationId": "cc2c1db53b56b86e688ef4b3f4ad753c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "phone_number"
                                ],
                                "properties": {
                                    "phone_number": {
                                        "type": "string",
                                        "example": "77123456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Informations du numéro",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Informations du numéro"
                                        },
                                        "data": {
                                            "properties": {
                                                "operator": {
                                                    "type": "string",
                                                    "example": "airtel"
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "example": "GA"
                                                },
                                                "is_valid": {
                                                    "type": "boolean",
                                                    "example": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    },
                    {
                        "apiKey": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "description": "Token Bearer obtenu via POST /api/auth/login",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            },
            "apiKey": {
                "type": "apiKey",
                "description": "Clé API générée depuis le tableau de bord SendWave Pro",
                "name": "X-API-Key",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Inscription, connexion et gestion du profil"
        },
        {
            "name": "Messages",
            "description": "Envoi de SMS, OTP et analyse de numéros"
        },
        {
            "name": "Contacts",
            "description": "Gestion des contacts (CRUD)"
        }
    ]
}