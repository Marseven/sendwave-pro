import{d as pe,r as f,m as fe,n as xe,p as U,j as ve,E as ge,o as i,b as e,x as a,y as r,i as $,c as d,F as A,q as T,t as n,s as j,g as p,f as h,D as R,v as q,C as Q}from"./main-BhIczrjF.js";import{_ as be,f as b,o as X,g as he,s as Y,l as Z}from"./api-DE0waIQc.js";import{_ as ye}from"./TabNav.vue_vue_type_script_setup_true_lang-mFGgQtyk.js";import{a as g,b as M,s as E}from"./notifications-CHQAjgV4.js";import{a as _e,r as ee}from"./CogIcon-QfSAY7wM.js";import{r as P}from"./PencilIcon-bJv1Mjf1.js";import{r as D}from"./TrashIcon-bHKIB1by.js";import{r as te}from"./IdentificationIcon-D1IKFv_W.js";import{r as we}from"./InformationCircleIcon-D5FZRNDO.js";import{r as ke}from"./ArrowPathIcon-BW_p41RT.js";import{r as se}from"./CheckCircleIcon-u8NF7u-z.js";const Ce={class:"p-4 sm:p-6 lg:p-8"},Se={class:"mb-4 sm:mb-6"},$e={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4"},je={class:"text-xl sm:text-2xl font-bold flex items-center gap-2"},Me={key:0,class:"space-y-4 sm:space-y-6"},De={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},Ae={class:"hidden md:block rounded-lg border bg-card"},Te={class:"w-full"},Ie={class:"p-4"},Ve={class:"font-medium"},Ee={class:"p-4"},Ne={class:"p-4"},Fe={class:"p-4 text-sm text-muted-foreground"},Be={class:"p-4 text-right"},Ue=["onClick"],Re=["onClick"],qe={key:0},Pe={colspan:"5",class:"p-8 text-center text-muted-foreground"},ze={class:"md:hidden space-y-3"},Le={class:"flex items-start justify-between mb-3"},Ge={class:"font-medium"},Oe={class:"flex flex-wrap gap-2 mt-2"},Je={class:"flex gap-1"},He=["onClick"],We=["onClick"],Ke={class:"text-xs text-muted-foreground"},Qe={key:0,class:"p-8 text-center text-muted-foreground rounded-lg border bg-card"},Xe={key:1,class:"space-y-4 sm:space-y-6"},Ye={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},Ze={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},et={class:"flex items-start justify-between mb-2 sm:mb-3"},tt={class:"min-w-0 flex-1"},st={class:"font-semibold text-sm sm:text-base truncate"},ot={class:"text-xs text-muted-foreground"},nt={class:"flex gap-1 ml-2"},lt=["onClick"],at=["onClick"],rt={class:"text-xs sm:text-sm text-muted-foreground line-clamp-3 mb-2 sm:mb-3"},it={class:"flex items-center justify-between text-xs"},dt={class:"text-muted-foreground"},ut=["onClick"],mt={key:0,class:"col-span-full p-6 sm:p-8 text-center text-muted-foreground border rounded-lg"},ct={key:2,class:"space-y-4 sm:space-y-6"},pt={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3"},ft={class:"hidden md:block rounded-lg border bg-card"},xt={class:"w-full"},vt={class:"p-4 font-medium"},gt={class:"p-4 text-sm text-muted-foreground max-w-xs truncate"},bt={class:"p-4 text-sm"},ht={class:"p-4 text-sm text-muted-foreground"},yt={class:"p-4 text-right"},_t=["onClick"],wt=["onClick"],kt={key:0},Ct={colspan:"5",class:"p-8 text-center text-muted-foreground"},St={class:"md:hidden space-y-3"},$t={class:"flex items-start justify-between mb-2"},jt={class:"font-medium text-sm"},Mt=["onClick"],Dt={class:"text-xs text-muted-foreground line-clamp-2 mb-3"},At={class:"flex items-center justify-between text-xs text-muted-foreground mb-3"},Tt=["onClick"],It={key:0,class:"p-8 text-center text-muted-foreground rounded-lg border bg-card"},Vt={key:3,class:"space-y-4 sm:space-y-6"},Et={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3"},Nt={class:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground"},Ft={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"},Bt={class:"rounded-lg border bg-card p-4 sm:p-6"},Ut={class:"flex items-center justify-between mb-4"},Rt={class:"flex items-center gap-2 sm:gap-3"},qt={class:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0"},Pt={class:"relative inline-flex items-center cursor-pointer"},zt={class:"space-y-2 sm:space-y-3 text-xs sm:text-sm"},Lt={class:"flex justify-between"},Gt={class:"font-medium"},Ot={class:"flex justify-between"},Jt={class:"rounded-lg border bg-card p-4 sm:p-6"},Ht={class:"flex items-center justify-between mb-4"},Wt={class:"flex items-center gap-2 sm:gap-3"},Kt={class:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0"},Qt={class:"relative inline-flex items-center cursor-pointer"},Xt={class:"space-y-2 sm:space-y-3 text-xs sm:text-sm"},Yt={class:"flex justify-between"},Zt={class:"font-medium"},es={class:"flex justify-between"},ts={class:"rounded-lg border bg-card p-4 sm:p-6"},ss={class:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4"},os={class:"flex items-center gap-3 sm:gap-4"},ns={class:"flex items-center gap-2 sm:gap-3 cursor-pointer"},ls={key:0,class:"mt-3 sm:mt-4 p-2 sm:p-3 bg-muted/50 rounded-lg text-xs sm:text-sm"},as={class:"flex items-center gap-2"},rs={class:"flex items-center gap-2 mt-1"},is={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4"},ds={class:"relative bg-card rounded-lg shadow-lg w-full max-w-sm sm:max-w-md p-4 sm:p-6 max-h-[90vh] overflow-y-auto"},us={class:"text-base sm:text-lg font-semibold mb-4"},ms={class:"space-y-4"},cs={class:"space-y-2"},ps={class:"space-y-2"},fs={class:"flex gap-2 sm:gap-3 mt-6"},xs=["disabled"],vs={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4"},gs={class:"relative bg-card rounded-lg shadow-lg w-full max-w-sm sm:max-w-lg p-4 sm:p-6 max-h-[90vh] overflow-y-auto"},bs={class:"text-base sm:text-lg font-semibold mb-4"},hs={class:"space-y-4"},ys={class:"space-y-2"},_s={class:"space-y-2"},ws={class:"space-y-2"},ks={class:"flex items-center justify-between"},Cs={class:"text-xs text-muted-foreground"},Ss={class:"flex gap-2 sm:gap-3 mt-6"},$s=["disabled"],Rs=pe({__name:"Transactional",setup(js){const z=ve(),oe=[{id:"senderid",label:"Sender ID"},{id:"templates",label:"Modèles"},{id:"drafts",label:"Brouillons"},{id:"routes",label:"Routes"}],k=f("senderid"),x=f([]),C=f(!1),y=f(null),v=f({name:"",type:"transactional"}),N=f([]),S=f(!1),_=f(null),c=f({name:"",content:"",category:""}),w=f([]),m=f({airtel:{enabled:!0,cost:20},moov:{enabled:!1,cost:20}}),I=f(!0);async function ne(){x.value=[{id:1,name:"JOBSSMS",type:"transactional",status:"approved",created_at:"2026-01-15"},{id:2,name:"SendWave",type:"transactional",status:"approved",created_at:"2026-01-10"}]}async function F(){try{const o=await b.get("/templates");N.value=o.data.data||o.data||[]}catch(o){console.error("Error loading templates:",o)}}async function B(){try{const o=await b.get("/templates");w.value=(o.data.data||o.data||[]).filter(t=>t.name.toLowerCase().includes("brouillon")).map(t=>({...t,recipients_count:0}))}catch(o){console.error("Error loading drafts:",o)}}async function le(){try{const o=await b.get("/sms-configs"),t=o.data.data||o.data||[],l=t.find(u=>u.provider==="airtel"),s=t.find(u=>u.provider==="moov");l&&(m.value.airtel.enabled=l.is_active,m.value.airtel.cost=l.cost_per_sms||20),s&&(m.value.moov.enabled=s.is_active,m.value.moov.cost=s.cost_per_sms||20)}catch(o){console.error("Error loading routes:",o)}}function L(o){y.value=o,v.value={name:o.name,type:o.type},C.value=!0}async function ae(){var o,t;if(v.value.name)try{if(y.value){const l=x.value.findIndex(s=>s.id===y.value.id);l!==-1&&(x.value[l]={...x.value[l],...v.value}),g("Sender ID modifié")}else x.value.push({id:Date.now(),...v.value,status:"pending",created_at:new Date().toISOString()}),g("Sender ID créé");C.value=!1,y.value=null,v.value={name:"",type:"transactional"}}catch(l){M(((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||"Erreur")}}async function G(o){await E("Supprimer ce Sender ID ?",`${o.name} sera supprimé définitivement.`)&&(x.value=x.value.filter(l=>l.id!==o.id),g("Sender ID supprimé"))}function re(o){_.value=o,c.value={name:o.name,content:o.content,category:o.category||""},S.value=!0}async function ie(){var o,t;if(!(!c.value.name||!c.value.content))try{_.value?(await b.put(`/templates/${_.value.id}`,c.value),g("Modèle modifié")):(await b.post("/templates",c.value),g("Modèle créé")),S.value=!1,_.value=null,c.value={name:"",content:"",category:""},F()}catch(l){M(((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||"Erreur")}}async function de(o){var l,s;if(await E("Supprimer ce modèle ?",`"${o.name}" sera supprimé définitivement.`))try{await b.delete(`/templates/${o.id}`),g("Modèle supprimé"),F()}catch(u){M(((s=(l=u.response)==null?void 0:l.data)==null?void 0:s.message)||"Erreur")}}function ue(o){z.push({path:"/send-sms",query:{template:o.id.toString()}})}function O(o){z.push({path:"/send-sms",query:{draft:o.id.toString()}})}async function J(o){var l,s;if(await E("Supprimer ce brouillon ?","Cette action est irréversible."))try{await b.delete(`/templates/${o.id}`),g("Brouillon supprimé"),B()}catch(u){M(((s=(l=u.response)==null?void 0:l.data)==null?void 0:s.message)||"Erreur")}}async function me(){var t,l;if(await E("Supprimer tous les brouillons ?","Cette action est irréversible."))try{for(const s of w.value)await b.delete(`/templates/${s.id}`);g("Brouillons supprimés"),B()}catch(s){M(((l=(t=s.response)==null?void 0:t.data)==null?void 0:l.message)||"Erreur")}}async function H(o){var t,l;try{await b.post(`/sms-configs/${o}/toggle`),g(`Route ${o} ${m.value[o].enabled?"activée":"désactivée"}`)}catch(s){m.value[o].enabled=!m.value[o].enabled,M(((l=(t=s.response)==null?void 0:t.data)==null?void 0:l.message)||"Erreur")}}async function ce(){g(`Fallback ${I.value?"activé":"désactivé"}`)}function W(o){switch(o){case"approved":return"bg-success/10 text-success";case"pending":return"bg-warning/10 text-warning";case"rejected":return"bg-destructive/10 text-destructive";default:return"bg-muted text-muted-foreground"}}function K(o){switch(o){case"approved":return"Approuvé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return o}}function V(o){return new Date(o).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})}return fe(()=>{ne(),F(),B(),le()}),(o,t)=>{const l=ge("router-link");return i(),xe(be,null,{default:U(()=>[e("div",Ce,[e("div",Se,[e("div",$e,[e("div",null,[e("h1",je,[a(r(_e),{class:"w-6 h-6 sm:w-7 sm:h-7 text-primary"}),t[17]||(t[17]=$(" Transactionnel ",-1))]),t[18]||(t[18]=e("p",{class:"text-sm text-muted-foreground mt-1"},"Gérez vos Sender IDs, modèles, brouillons et routes",-1))])])]),a(ye,{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=s=>k.value=s),tabs:oe,class:"mb-6"},null,8,["modelValue"]),k.value==="senderid"?(i(),d("div",Me,[e("div",De,[t[21]||(t[21]=e("h2",{class:"text-base sm:text-lg font-semibold"},"Sender IDs",-1)),e("button",{onClick:t[1]||(t[1]=s=>C.value=!0),class:"inline-flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 h-9 sm:h-10"},[a(r(X),{class:"w-4 h-4"}),t[19]||(t[19]=e("span",{class:"hidden sm:inline"},"Nouveau Sender ID",-1)),t[20]||(t[20]=e("span",{class:"sm:hidden"},"Nouveau",-1))])]),e("div",Ae,[e("table",Te,[t[23]||(t[23]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"text-left p-4 font-medium text-sm"},"Sender ID"),e("th",{class:"text-left p-4 font-medium text-sm"},"Type"),e("th",{class:"text-left p-4 font-medium text-sm"},"Statut"),e("th",{class:"text-left p-4 font-medium text-sm"},"Date création"),e("th",{class:"text-right p-4 font-medium text-sm"},"Actions")])],-1)),e("tbody",null,[(i(!0),d(A,null,T(x.value,s=>(i(),d("tr",{key:s.id,class:"border-b last:border-0 hover:bg-muted/30"},[e("td",Ie,[e("span",Ve,n(s.name),1)]),e("td",Ee,[e("span",{class:j(["px-2 py-1 text-xs rounded-full",s.type==="transactional"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"])},n(s.type==="transactional"?"Transactionnel":"Marketing"),3)]),e("td",Ne,[e("span",{class:j(["px-2 py-1 text-xs rounded-full",W(s.status)])},n(K(s.status)),3)]),e("td",Fe,n(V(s.created_at)),1),e("td",Be,[e("button",{onClick:u=>L(s),class:"p-2 hover:bg-accent rounded-lg"},[a(r(P),{class:"w-4 h-4"})],8,Ue),e("button",{onClick:u=>G(s),class:"p-2 hover:bg-destructive/10 text-destructive rounded-lg"},[a(r(D),{class:"w-4 h-4"})],8,Re)])]))),128)),x.value.length===0?(i(),d("tr",qe,[e("td",Pe,[a(r(te),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[22]||(t[22]=e("p",null,"Aucun Sender ID configuré",-1))])])):p("",!0)])])]),e("div",ze,[(i(!0),d(A,null,T(x.value,s=>(i(),d("div",{key:s.id,class:"rounded-lg border bg-card p-4"},[e("div",Le,[e("div",null,[e("span",Ge,n(s.name),1),e("div",Oe,[e("span",{class:j(["px-2 py-1 text-xs rounded-full",s.type==="transactional"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"])},n(s.type==="transactional"?"Transactionnel":"Marketing"),3),e("span",{class:j(["px-2 py-1 text-xs rounded-full",W(s.status)])},n(K(s.status)),3)])]),e("div",Je,[e("button",{onClick:u=>L(s),class:"p-2 hover:bg-accent rounded-lg"},[a(r(P),{class:"w-4 h-4"})],8,He),e("button",{onClick:u=>G(s),class:"p-2 hover:bg-destructive/10 text-destructive rounded-lg"},[a(r(D),{class:"w-4 h-4"})],8,We)])]),e("div",Ke," Créé le "+n(V(s.created_at)),1)]))),128)),x.value.length===0?(i(),d("div",Qe,[a(r(te),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[24]||(t[24]=e("p",null,"Aucun Sender ID configuré",-1))])):p("",!0)])])):p("",!0),k.value==="templates"?(i(),d("div",Xe,[e("div",Ye,[t[27]||(t[27]=e("h2",{class:"text-base sm:text-lg font-semibold"},"Modèles de messages",-1)),e("button",{onClick:t[2]||(t[2]=s=>S.value=!0),class:"inline-flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 h-9 sm:h-10"},[a(r(X),{class:"w-4 h-4"}),t[25]||(t[25]=e("span",{class:"hidden sm:inline"},"Nouveau modèle",-1)),t[26]||(t[26]=e("span",{class:"sm:hidden"},"Nouveau",-1))])]),e("div",Ze,[(i(!0),d(A,null,T(N.value,s=>(i(),d("div",{key:s.id,class:"rounded-lg border bg-card p-3 sm:p-4 hover:shadow-md transition-shadow"},[e("div",et,[e("div",tt,[e("h3",st,n(s.name),1),e("span",ot,n(s.category||"Général"),1)]),e("div",nt,[e("button",{onClick:u=>re(s),class:"p-1.5 hover:bg-accent rounded"},[a(r(P),{class:"w-4 h-4"})],8,lt),e("button",{onClick:u=>de(s),class:"p-1.5 hover:bg-destructive/10 text-destructive rounded"},[a(r(D),{class:"w-4 h-4"})],8,at)])]),e("p",rt,n(s.content),1),e("div",it,[e("span",dt,n(s.content.length)+" caractères",1),e("button",{onClick:u=>ue(s),class:"text-primary hover:underline font-medium"}," Utiliser ",8,ut)])]))),128)),N.value.length===0?(i(),d("div",mt,[a(r(he),{class:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 opacity-50"}),t[28]||(t[28]=e("p",{class:"text-sm"},"Aucun modèle disponible",-1))])):p("",!0)])])):p("",!0),k.value==="drafts"?(i(),d("div",ct,[e("div",pt,[t[30]||(t[30]=e("h2",{class:"text-base sm:text-lg font-semibold"},"Brouillons",-1)),w.value.length>0?(i(),d("button",{key:0,onClick:me,class:"inline-flex items-center justify-center gap-2 px-3 sm:px-4 py-2 border rounded-lg text-sm font-medium hover:bg-accent h-9 sm:h-10"},[a(r(D),{class:"w-4 h-4"}),t[29]||(t[29]=$(" Tout supprimer ",-1))])):p("",!0)]),e("div",ft,[e("table",xt,[t[32]||(t[32]=e("thead",null,[e("tr",{class:"border-b bg-muted/50"},[e("th",{class:"text-left p-4 font-medium text-sm"},"Nom"),e("th",{class:"text-left p-4 font-medium text-sm"},"Aperçu"),e("th",{class:"text-left p-4 font-medium text-sm"},"Destinataires"),e("th",{class:"text-left p-4 font-medium text-sm"},"Sauvegardé le"),e("th",{class:"text-right p-4 font-medium text-sm"},"Actions")])],-1)),e("tbody",null,[(i(!0),d(A,null,T(w.value,s=>(i(),d("tr",{key:s.id,class:"border-b last:border-0 hover:bg-muted/30"},[e("td",vt,n(s.name),1),e("td",gt,n(s.content),1),e("td",bt,n(s.recipients_count||0)+" contact(s)",1),e("td",ht,n(V(s.created_at)),1),e("td",yt,[e("button",{onClick:u=>O(s),class:"px-3 py-1.5 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90 mr-2"}," Charger ",8,_t),e("button",{onClick:u=>J(s),class:"p-2 hover:bg-destructive/10 text-destructive rounded-lg"},[a(r(D),{class:"w-4 h-4"})],8,wt)])]))),128)),w.value.length===0?(i(),d("tr",kt,[e("td",Ct,[a(r(ee),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[31]||(t[31]=e("p",null,"Aucun brouillon sauvegardé",-1))])])):p("",!0)])])]),e("div",St,[(i(!0),d(A,null,T(w.value,s=>(i(),d("div",{key:s.id,class:"rounded-lg border bg-card p-4"},[e("div",$t,[e("span",jt,n(s.name),1),e("button",{onClick:u=>J(s),class:"p-1.5 hover:bg-destructive/10 text-destructive rounded"},[a(r(D),{class:"w-4 h-4"})],8,Mt)]),e("p",Dt,n(s.content),1),e("div",At,[e("span",null,n(s.recipients_count||0)+" contact(s)",1),e("span",null,n(V(s.created_at)),1)]),e("button",{onClick:u=>O(s),class:"w-full px-3 py-2 text-sm bg-primary text-primary-foreground rounded hover:bg-primary/90"}," Charger ",8,Tt)]))),128)),w.value.length===0?(i(),d("div",It,[a(r(ee),{class:"w-10 h-10 mx-auto mb-2 opacity-50"}),t[33]||(t[33]=e("p",{class:"text-sm"},"Aucun brouillon sauvegardé",-1))])):p("",!0)])])):p("",!0),k.value==="routes"?(i(),d("div",Vt,[e("div",Et,[t[35]||(t[35]=e("h2",{class:"text-base sm:text-lg font-semibold"},"Routes SMS",-1)),e("div",Nt,[a(r(we),{class:"w-4 h-4 flex-shrink-0"}),t[34]||(t[34]=e("span",null,"Configuration des passerelles",-1))])]),e("div",Ft,[e("div",Bt,[e("div",Ut,[e("div",Rt,[e("div",qt,[a(r(Y),{class:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"})]),t[36]||(t[36]=e("div",null,[e("h3",{class:"font-semibold text-sm sm:text-base"},"Airtel Gabon"),e("p",{class:"text-xs sm:text-sm text-muted-foreground"},"API HTTP directe")],-1))]),e("label",Pt,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=s=>m.value.airtel.enabled=s),onChange:t[4]||(t[4]=s=>H("airtel")),class:"sr-only peer"},null,544),[[R,m.value.airtel.enabled]]),t[37]||(t[37]=e("div",{class:"w-11 h-6 bg-muted peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"},null,-1))])]),e("div",zt,[t[40]||(t[40]=e("div",{class:"flex justify-between"},[e("span",{class:"text-muted-foreground"},"Préfixes"),e("span",{class:"font-medium"},"77, 74, 76")],-1)),e("div",Lt,[t[38]||(t[38]=e("span",{class:"text-muted-foreground"},"Coût/SMS",-1)),e("span",Gt,n(m.value.airtel.cost)+" FCFA",1)]),e("div",Ot,[t[39]||(t[39]=e("span",{class:"text-muted-foreground"},"Statut",-1)),e("span",{class:j(m.value.airtel.enabled?"text-success":"text-muted-foreground")},n(m.value.airtel.enabled?"Actif":"Inactif"),3)])]),a(l,{to:"/sms-config",class:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-accent h-9 sm:h-10"},{default:U(()=>[a(r(Z),{class:"w-4 h-4"}),t[41]||(t[41]=$(" Configurer ",-1))]),_:1})]),e("div",Jt,[e("div",Ht,[e("div",Wt,[e("div",Kt,[a(r(Y),{class:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})]),t[42]||(t[42]=e("div",null,[e("h3",{class:"font-semibold text-sm sm:text-base"},"Moov Gabon"),e("p",{class:"text-xs sm:text-sm text-muted-foreground"},"Protocole SMPP")],-1))]),e("label",Qt,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>m.value.moov.enabled=s),onChange:t[6]||(t[6]=s=>H("moov")),class:"sr-only peer"},null,544),[[R,m.value.moov.enabled]]),t[43]||(t[43]=e("div",{class:"w-11 h-6 bg-muted peer-focus:ring-2 peer-focus:ring-primary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"},null,-1))])]),e("div",Xt,[t[46]||(t[46]=e("div",{class:"flex justify-between"},[e("span",{class:"text-muted-foreground"},"Préfixes"),e("span",{class:"font-medium"},"60, 62, 65, 66")],-1)),e("div",Yt,[t[44]||(t[44]=e("span",{class:"text-muted-foreground"},"Coût/SMS",-1)),e("span",Zt,n(m.value.moov.cost)+" FCFA",1)]),e("div",es,[t[45]||(t[45]=e("span",{class:"text-muted-foreground"},"Statut",-1)),e("span",{class:j(m.value.moov.enabled?"text-success":"text-muted-foreground")},n(m.value.moov.enabled?"Actif":"Inactif"),3)])]),a(l,{to:"/sms-config",class:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium hover:bg-accent h-9 sm:h-10"},{default:U(()=>[a(r(Z),{class:"w-4 h-4"}),t[47]||(t[47]=$(" Configurer ",-1))]),_:1})])]),e("div",ts,[e("div",ss,[a(r(ke),{class:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),t[48]||(t[48]=e("h3",{class:"font-semibold text-sm sm:text-base"},"Configuration de secours",-1))]),t[52]||(t[52]=e("p",{class:"text-xs sm:text-sm text-muted-foreground mb-3 sm:mb-4"}," Lorsque le fallback est activé, si l'opérateur principal échoue, le système bascule automatiquement vers l'opérateur de secours. ",-1)),e("div",os,[e("label",ns,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>I.value=s),onChange:ce,class:"w-4 h-4 rounded border-input"},null,544),[[R,I.value]]),t[49]||(t[49]=e("span",{class:"text-xs sm:text-sm font-medium"},"Activer le fallback automatique",-1))])]),I.value?(i(),d("div",ls,[e("p",as,[a(r(se),{class:"w-4 h-4 text-success flex-shrink-0"}),t[50]||(t[50]=$(" Airtel → Moov (si Airtel échoue) ",-1))]),e("p",rs,[a(r(se),{class:"w-4 h-4 text-success flex-shrink-0"}),t[51]||(t[51]=$(" Moov → Airtel (si Moov échoue) ",-1))])])):p("",!0)])])):p("",!0)]),C.value?(i(),d("div",is,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[8]||(t[8]=s=>C.value=!1)}),e("div",ds,[e("h3",us,n(y.value?"Modifier":"Nouveau")+" Sender ID",1),e("div",ms,[e("div",cs,[t[53]||(t[53]=e("label",{class:"text-sm font-medium"},"Nom du Sender ID",-1)),h(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>v.value.name=s),type:"text",placeholder:"Ex: JOBSSMS",maxlength:"11",class:"flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[q,v.value.name]]),t[54]||(t[54]=e("p",{class:"text-xs text-muted-foreground"},"Maximum 11 caractères alphanumériques",-1))]),e("div",ps,[t[56]||(t[56]=e("label",{class:"text-sm font-medium"},"Type",-1)),h(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>v.value.type=s),class:"flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...t[55]||(t[55]=[e("option",{value:"transactional"},"Transactionnel",-1),e("option",{value:"marketing"},"Marketing",-1)])],512),[[Q,v.value.type]])])]),e("div",fs,[e("button",{onClick:ae,disabled:!v.value.name,class:"flex-1 h-9 sm:h-10 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 disabled:opacity-50"},n(y.value?"Modifier":"Créer"),9,xs),e("button",{onClick:t[11]||(t[11]=s=>{C.value=!1,y.value=null}),class:"px-4 h-9 sm:h-10 border rounded-lg text-sm hover:bg-accent"}," Annuler ")])])])):p("",!0),S.value?(i(),d("div",vs,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[12]||(t[12]=s=>S.value=!1)}),e("div",gs,[e("h3",bs,n(_.value?"Modifier":"Nouveau")+" modèle",1),e("div",hs,[e("div",ys,[t[57]||(t[57]=e("label",{class:"text-sm font-medium"},"Nom du modèle",-1)),h(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>c.value.name=s),type:"text",placeholder:"Ex: Confirmation commande",class:"flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},null,512),[[q,c.value.name]])]),e("div",_s,[t[59]||(t[59]=e("label",{class:"text-sm font-medium"},"Catégorie",-1)),h(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>c.value.category=s),class:"flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...t[58]||(t[58]=[e("option",{value:""},"-- Sélectionner --",-1),e("option",{value:"notification"},"Notification",-1),e("option",{value:"marketing"},"Marketing",-1),e("option",{value:"verification"},"Vérification",-1),e("option",{value:"reminder"},"Rappel",-1)])],512),[[Q,c.value.category]])]),e("div",ws,[e("div",ks,[t[60]||(t[60]=e("label",{class:"text-sm font-medium"},"Contenu",-1)),e("span",Cs,n(c.value.content.length)+"/480",1)]),h(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=s=>c.value.content=s),placeholder:"Tapez votre message... Variables: {name}, {phone}, {code}",rows:"4",maxlength:"480",class:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm resize-none"},null,512),[[q,c.value.content]])])]),e("div",Ss,[e("button",{onClick:ie,disabled:!c.value.name||!c.value.content,class:"flex-1 h-9 sm:h-10 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 disabled:opacity-50"},n(_.value?"Modifier":"Créer"),9,$s),e("button",{onClick:t[16]||(t[16]=s=>{S.value=!1,_.value=null}),class:"px-4 h-9 sm:h-10 border rounded-lg text-sm hover:bg-accent"}," Annuler ")])])])):p("",!0)]),_:1})}}});export{Rs as default};
